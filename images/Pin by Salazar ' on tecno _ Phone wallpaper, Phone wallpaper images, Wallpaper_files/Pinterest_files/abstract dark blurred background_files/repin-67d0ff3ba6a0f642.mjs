(self.modernJsonp=self.modernJsonp||[]).push([["25656"],{503777(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPickerList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};n.hash="76b22cc5d658befe1dc27454d3aee77f";let a=n},825283(e,t,i){var n;i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardTitleSuggestionList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="69ffcdea57a7778d2ebbcd41c276c0d0";let r=a},412442(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CSSCarouselModule_parentPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_parentPin"}],type:"Pin",abstractKey:null};n.hash="d1542775568248acbce5a79453f4dffb";let a=n},827932(e,t,i){var n,a;i.r(t),i.d(t,{default:()=>o});let r={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"CSSCarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[a],storageKey:'images(spec:"236x")'},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[n],storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_story"},{args:null,kind:"FragmentSpread",name:"useCarouselModuleLogic_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};r.hash="dee347ef77ae345e076b08494d4b664f";let o=r},970333(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null}],type:"Pin",abstractKey:null};n.hash="60ba8f292ef82335c3d4cbce50f362d8";let a=n},709657(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileRepinCreateScreen_pin",selections:[{args:null,kind:"FragmentSpread",name:"RepinAddSection_pin"}],type:"Pin",abstractKey:null};n.hash="2d5f10a7f4e54a8cf9118f134bcd7386";let a=n},234327(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileRepinPicker_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"RepinBoardPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinSectionPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinCreateBoardButton_pin"}],type:"Pin",abstractKey:null};n.hash="fbb4180ea3919f31ccfbb4bf4b2d25ea";let a=n},180653(e,t,i){var n;i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinAddSection_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="b3ec14d29962e56f80dd52e7e6d7a6d9";let r=a},275631(e,t,i){var n;i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinBoardPicker_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n],storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPickerList_pin"},{args:null,kind:"FragmentSpread",name:"BoardTitleSuggestionList_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"}],type:"Pin",abstractKey:null};a.hash="475036dcb56a51d3552313200b8c9d45";let r=a},851997(e,t,i){var n;i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinCreateBoardButton_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n],storageKey:null}],type:"Pin",abstractKey:null};a.hash="1612c2df94f42990b3d4f6ccede72a70";let r=a},592856(e,t,i){var n,a,r,o,l,s,d;i.r(t),i.d(t,{default:()=>u});let c=(n=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],a=[{kind:"Variable",name:"pin",variableName:"pinId"}],o={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"RepinPageQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"RepinPage_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"RepinPageQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s,o,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},s],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:d,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:d,storageKey:null}],storageKey:null},s],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c2dfef88dd2d19e87739d4a01cad7d8a4598189c33dbda3a2859c0731bd12bea",metadata:{},name:"RepinPageQuery",operationKind:"query",text:null}});c.hash="76093586a269ca0330e25a57bd33f665";let u=c},546952(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"MobileRepinPicker_pin"},{args:null,kind:"FragmentSpread",name:"MobileRepinCreateScreen_pin"}],type:"Pin",abstractKey:null};n.hash="334d0ce72c30565b62e52dd00bf86623";let a=n},380568(e,t,i){var n;i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinSectionPicker_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};a.hash="f0b2fbadfba92480a2077999a000a308";let r=a},339353(e,t,i){var n,a,r,o,l;i.r(t),i.d(t,{default:()=>d});let s={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o={alias:null,args:null,concreteType:"BoardTitleSuggestions",kind:"LinkedField",name:"boardTitleSuggestions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},l={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},l],storageKey:null}]},params:{id:"dfccee15ebd4af4563083cc11670f30e6390ba0f2d1317da3d908269f01eadba",metadata:{},name:"useFetchBoardTitleSuggestionsQuery",operationKind:"query",text:null}};s.hash="a8967078f1de7ce3a263a224d0d0e710";let d=s},844005(e,t,i){var n;i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetNormalizedPinImage_pin",selections:[{alias:"images_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};a.hash="8b6ce790922ff8b900b4ae18b06b7c11";let r=a},916572(e,t,i){i.d(t,{Q:()=>A,x:()=>v});var n=i(859471),a=i(168403),r=i(217681),o=i(672375),l=i(50001),s=i(371934),d=i(752422),c=i(450024),u=i(540279),p=i(193599),h=i(767216),m=i(526302),g=i(606815),_=i(866804),f=i(562615);let y=(e,t,i)=>{let n=t?.find(({action:e})=>e?.filter?.product_filter_type===i);if(!n)return;let a=(0,g.A)(_.A,!0)(n),r=e.findIndex(({action:e})=>e?.filter?.productFilterType===i);e[r]?e[r]=a:e.push(a)},b=(e,t,i,n)=>{let a=n.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(a?.action?.filter){let e=a.action.filter.filterOptions;a.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[i]&&t.split(",").includes(String(e[i]))).map(e=>({...e,selected:!0})):[]}},{Provider:x,get:v}=(0,h.A)("OneBarProductFilters");function A({children:e}){let[t,i]=(0,n.useState)([]),[h,g]=(0,n.useState)(null),_=function(){let{scope:e}=(0,l.u)();return[o.cO.BOARDS,o.cO.PINS_BUYABLE,o.cO.PINS_VIDEO,o.cO.USERS].includes(e)}(),v=(0,u.A)(),A=(0,d.A)(),w=(0,a.A)(),S=(0,r.A)(),P=(0,c.A)(),k=(0,n.useCallback)(({oneBarModules:e,baseCacheKey:n})=>{let a=e?.filter(({module_type:e})=>17===e||0===e);if(!a||a?.length===0||!n)return;let r=n!==h,o=r?[]:t;(r||!_)&&y(o,a,4),(r||!v)&&y(o,a,1),(r||!A)&&y(o,a,0),(r||!w)&&y(o,a,3),(r||!S)&&y(o,a,6),(r||!P)&&[7,8,9].forEach(e=>{y(o,a,e)}),(0,m.Ay)(o,t)||(i(o),g(n))},[t,w,S,_,A,P,v,h]),I=(0,s.A)(),{priceMax:T,priceMin:j,scope:z,brands:R,onSale:E,colors:F,domains:B}=(0,l.u)();(0,n.useEffect)(()=>{if(!I||0===t.length)return;let e=(0,p.A)(t);if(z!==o.cO.PINS){let t=(0,o.Ef)(z),i=e.find(({moduleType:e})=>0===e);i?.action?.filter&&(i.action.filter.appliedFilterOptions=[...i.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:i}=e;return{searchType:i,selected:i===t}}))}if("string"==typeof T||"string"==typeof j){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(j)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(T)}:null].filter(Boolean))}b(new Set([3]),R,"stringValue",e),b(new Set([6]),F,"stringValue",e),b(new Set([0]),B,"stringValue",e),b(new Set([7,8,9]),E,"numericValue",e),(0,m.Ay)(e,t)||i(e)},[t,I,T,j,z,R,F,B,E]);let C=(0,n.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:k}),[t,k]);return(0,f.jsx)(x,{value:C,children:e})}},880838(e,t,i){i.d(t,{A:()=>b});var n=i(335831),a=i(859471),r=i(836737),o=i(747720),l=i(498610),s=i(916572),d=i(371934);function c({defaultText:e,productFilterTypes:t}){let i=(0,d.A)(),{cachedProductFilterOneBarModules:n}=(0,s.x)();return i?n.find(e=>"number"==typeof e.action?.filter?.productFilterType&&t.includes(e.action.filter.productFilterType))?.action?.filter?.errorStateLabel??e:e}var u=i(396901),p=i(562615);function h(){(0,a.useEffect)(()=>{(0,n.A)("RemoveBrandFilterButton","/app/common/react/components/UnifiedFilters/RemoveFilterButtons/individual/RemoveBrandFilterButton.tsx")},[]);let e=c({defaultText:(0, u.A)()._('Remove brands', 'AuthSearchPage.PinsNotFoundShoppingFilter.RemoveBrandsFilter', 'Button text to remove brand filter when no search results are found'),productFilterTypes:[3]}),t=(0,l.A)(),i=(0,o.A)();return(0,p.jsx)(r.$n,{dataTestId:"remove-brand-filter",onClick:()=>{i(0),t([{key:"brands",value:""}])},text:e})}function m(){(0,a.useEffect)(()=>{(0,n.A)("RemoveMerchantFilterButton","/app/common/react/components/UnifiedFilters/RemoveFilterButtons/individual/RemoveMerchantFilterButton.tsx")},[]);let e=c({defaultText:(0, u.A)()._('Remove retailers', 'AuthSearchPage.PinsNotFoundShoppingFilter.RemoveRetailerFilter', 'Button text to remove retailer filter when no search results are found'),productFilterTypes:[0]}),t=(0,l.A)(),i=(0,o.A)();return(0,p.jsx)(r.$n,{dataTestId:"remove-retailer-filter",onClick:()=>{i(0),t([{key:"domains",value:""}])},text:e})}function g(){(0,a.useEffect)(()=>{(0,n.A)("RemoveOnSaleFilterButton","/app/common/react/components/UnifiedFilters/RemoveFilterButtons/individual/RemoveOnSaleFilterButton.tsx")},[]);let e=c({defaultText:(0, u.A)()._('Remove on sale', 'AuthSearchPage.PinsNotFoundShoppingFilter.RemoveOnSaleFilter', 'Button text to remove on sale filter when no search results are found'),productFilterTypes:[7,8,9]}),t=(0,l.A)(),i=(0,o.A)();return(0,p.jsx)(r.$n,{dataTestId:"remove-on-sale-filter",onClick:()=>{i(0),t([{key:"on_sale",value:""}])},text:e})}function _(){(0,a.useEffect)(()=>{(0,n.A)("RemovePriceFilterButton","/app/common/react/components/UnifiedFilters/RemoveFilterButtons/individual/RemovePriceFilterButton.tsx")},[]);let e=c({defaultText:(0, u.A)()._('Remove price', 'AuthSearchPage.PinsNotFoundShoppingFilter.RemovePriceRangeFilter', 'Button text to remove price range filter when no search results are found'),productFilterTypes:[1]}),t=(0,l.A)(),i=(0,o.A)();return(0,p.jsx)(r.$n,{dataTestId:"remove-price-range-filter",onClick:()=>{i(0),t([{key:"price_min",value:""},{key:"price_max",value:""}])},text:e})}function f(){(0,a.useEffect)(()=>{(0,n.A)("RemoveProductsFilterButton","/app/common/react/components/UnifiedFilters/RemoveFilterButtons/individual/RemoveProductsFilterButton.tsx")},[]);let e=(0,u.A)(),t=(0,l.A)(),i=(0,o.A)();return(0,p.jsx)(r.$n,{dataTestId:"remove-all-filters",onClick:()=>{i(0),t(l.Y.map(e=>({key:e,value:""})))},text:e._('Clear all filters', 'AuthSearchPage.PinsNotFoundShoppingFilter.RemoveProductsFilter', 'Button text to remove all product filters when no search results are found')})}var y=i(50001);function b(){(0,a.useEffect)(()=>{(0,n.A)("RemoveFilterButtons","/app/common/react/components/UnifiedFilters/RemoveFilterButtons/RemoveFilterButtons.tsx")},[]);let{brands:e,commerceOnly:t,domains:i,onSale:o,priceMax:l}=(0,y.u)();return(0,p.jsxs)(r.so,{alignItems:"center",direction:"column",gap:4,justifyContent:"center",children:[(0,p.jsxs)(r.so,{gap:2,justifyContent:"center",wrap:!0,children:[o&&(0,p.jsx)(g,{}),l&&(0,p.jsx)(_,{}),e&&(0,p.jsx)(h,{}),i&&(0,p.jsx)(m,{})]}),t&&(0,p.jsx)(f,{})]})}},747720(e,t,i){i.d(t,{A:()=>o});var n=i(979638),a=i(81305),r=i(822819);function o(){let e=(0,n.zy)(),t=(0,n.Zp)();return function(i){let n=(0,r.A)();n.filter_location=i,t((0,a.A)(e.pathname,n),{replace:!0})}}},498610(e,t,i){i.d(t,{A:()=>u,Y:()=>c});var n=i(979638),a=i(47998),r=i(528989),o=i(506966),l=i(672375),s=i(81305),d=i(822819);let c=["brands","colors","commerce_only","domains","on_sale","price_max","price_min"];function u(){let e=(0,n.Zp)(),t=(0,n.zy)(),{checkExperiment:i}=(0,r.A)(),{scope:u}=(0,n.g)(),p=(0,a.A)(),{isAuth:h}=p,m=h?p.country:"";return function(n){let a=(0,d.A)();a.rs=o.I.SHOPPING_FILTER,n.forEach(({key:e,value:t})=>{""!==t?a[e]=t:delete a[e]}),("US"===m||i("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled)&&u!==l.cO.PINS&&!c.some(e=>"commerce_only"!==e&&e in a)&&delete a.commerce_only,e((0,s.A)(t.pathname,a))}}},168403(e,t,i){i.d(t,{A:()=>r});var n=i(979638),a=i(218781);function r(){return!!(0,a.A)((0,n.zy)().search).brands}},217681(e,t,i){i.d(t,{A:()=>o});var n=i(979638),a=i(528989),r=i(218781);function o(){let{checkExperiment:e}=(0,a.A)(),t=(0,n.zy)(),{colors:i}=(0,r.A)(t.search);return!!i&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},371934(e,t,i){i.d(t,{A:()=>a});var n=i(528989);function a(){let{checkExperiment:e}=(0,n.A)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},752422(e,t,i){i.d(t,{A:()=>r});var n=i(979638),a=i(218781);function r(){return!!(0,a.A)((0,n.zy)().search).domains}},540279(e,t,i){i.d(t,{A:()=>r});var n=i(979638),a=i(218781);function r(){let e=(0,n.zy)(),{price_max:t,price_min:i}=(0,a.A)(e.search);return!!(i??t)}},896771(e,t,i){i.d(t,{A:()=>d});var n=i(335831),a=i(859471),r=i(836737),o=i(578576),l=i(208762),s=i(562615);function d({actionButton:e,collapsed:t,disabled:i,displayViewState:d,forceTappableHeader:c,headerHeight:u,headerPaddingX:p,headerPreview:h,heading:m,icon:g="chevron-down",onClick:_,showArrow:f,surface:y}){(0,a.useEffect)(()=>{(0,n.A)("CollapsableHeader","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CollapsableHeader.tsx")},[]);let{closeupWithinMasonryEnabled:b,peekCloseupEnabled:x,viewportSize:v}=(0,l._G)();if(!c&&null===d){let e,t;return e=(0,o.Kd)({peekCloseupEnabled:x,viewportSize:v,surface:y}),t=(0,s.jsx)(r._Y,{accessibilityLevel:2,align:"start",id:"comments-heading",size:e?"300":"400",children:m}),e?(0,s.jsx)(r.az,{marginBottom:4,children:t}):t}let A=(0,s.jsx)(r.az,{marginBottom:!t&&x?4:void 0,children:(0,s.jsxs)(r.so,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",height:u,justifyContent:"between",children:[(0,s.jsx)(r.so.Item,{flex:"shrink",children:(0,s.jsx)(r._Y,{accessibilityLevel:2,align:"start",color:i?"disabled":"default",id:"comments-heading",size:"300",children:m})}),(0,s.jsx)(r.so.Item,{flex:"shrink",children:(0,s.jsxs)(r.so,{alignItems:"center",direction:"row",gap:{row:1,column:0},children:[t&&h,(f||b)&&(0,s.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{transform:t?"rotate(0deg)":"rotate(180deg)",transition:"all 600ms cubic-bezier(.25,1,.5,1)"}},opacity:100*!!f,children:(0,s.jsx)(r.In,{accessibilityLabel:"",color:!f||i?"disabled":"default",dataTestId:"collapse-button",icon:g})})]})}),e&&(0,s.jsx)(r.so.Item,{flex:"grow",children:(0,s.jsx)(r.so,{justifyContent:"end",children:e})})]})});return(0,s.jsx)(r.az,{paddingX:p,children:_?(0,s.jsx)(r.Rp,{disabled:!f||i,onTap:_,children:A}):A})}},123295(e,t,i){i.d(t,{A:()=>n});let n=175},578013(e,t,i){i.d(t,{Tg:()=>n,_c:()=>l,jv:()=>a,sU:()=>r,zu:()=>o});let n={x:0,y:0,w:0,h:0},a=`
  .preview-crop-area-enter {
    opacity: 0;
  }

  .preview-crop-area-enter-active {
    opacity: 1;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit {
    opacity: 1;
  }

  .preview-crop-area-exit-active {
    opacity: 0;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit-done {
    opacity: 0;
  }
`,r={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},o="cropper-background",l="cropper-cropbox"},31737(e,t,i){i.d(t,{A:()=>v});var n,a,r=i(335831),o=i(859471);i(825193);var l=i(836737),s=i(129625),d=i(939359),c=i(900565),u=i(909901),p=i(237745),h=i(92760),m=i(799445),g=i(994341),_=i(491149),f=i(904396),y=i(562615);let b=(void 0!==n||(n=i(412442)).hash&&"d1542775568248acbce5a79453f4dffb"!==n.hash&&console.error("The definition of 'CSSCarouselModule_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),x=(void 0!==a||(a=i(827932)).hash&&"dee347ef77ae345e076b08494d4b664f"!==a.hash&&console.error("The definition of 'CSSCarouselModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function v({accessibilityLabelledBy:e,auxData:t,component:i,contentVisibleItemCountOverride:n,disableHeader:a,getProductTagAuxData:v,headerDisplayOptions:A,heading:w,itemRepSiblingNodeFactories:S,items:P,itemWidth:k,itemWidthHeightRatio:I,parentPinKey:T,renderItem:j,saveButtonOptions:z,showBorder:R,showMarkers:E=!1,showNavigationButtons:F=!0,storyKey:B,subtitle:C,surface:O,view:L=3,viewParameter:K,width:M}){(0,o.useEffect)(()=>{(0,r.A)("CSSCarouselModule","/app/packages/StructuredFeed/ModuleReps/CarouselModule/CSSCarouselModule.tsx")},[]);let{logContextEvent:$}=(0,s.o)(),N=(0,_.Ay)(),D=(0,_.bh)(N),H=(0,c.A)(b,T),Y=(0,c.A)(x,B),W=Y?.objects?[...Y.objects]:[],G=W.map(e=>"Pin"===e.__typename?e.entityId:null),U=(0,o.useMemo)(()=>{let e=Y?.storyType?{story_type:Y.storyType}:void 0;return e&&t?{...t,...e}:e??t},[Y?.storyType,t]),V=D?236:175,q=k??V,Q=Y.displayOptions?.contentDisplay?.itemWidthHeightRatio??I??1,{web:J,mobile:Z}=Y.displayOptions?.contentDisplay?.contentVisibleItemCount??{},X=n??(D?J:Z),ee=!a&&(Y?.storyTitle||w||C),{showModuleBorder:et,showExtraSmallSubtitle:ei,headerMarginBottom:en,isFixedWidthSlides:ea,moduleBorderStyle:er}=(0,m.A)({storyKey:Y,styleOverrides:{showModuleBorder:R}}),eo=!ea&&!!X&&!k,el=eo?"100%":q,es=(0,o.useCallback)(({currentIndex:e,nextIndex:t})=>{if(void 0===e||e===t)return;let n=Number(G?.[e]);$({aux_data:U,event_type:108,component:i,view_type:L,view_parameter:K,event_data:{pinCarouselSlotEventData:{carouselSlotId:Number.isFinite(n)?n:void 0,carouselSlotIndex:e,toCarouselSlotIndex:t}}})},[U,i,G,$,L,K]),ed=(0,o.useCallback)(({item:e,index:t})=>{let n=()=>{let n;if(j)return j({item:e,index:t});if(t===W.length-1&&Y.action?.text&&Y.action?.url&&(n=Y.action,n?.text&&n?.url&&h.$$.has(n?.location))){let t="Pin"===e.__typename&&e.images_236x?.url;return t&&(0,y.jsx)(u.A,{auxData:U,buttonText:Y.action?.text,component:i,contentIds:Y.contentIds??void 0,element:179,imageWidth:el,previewImageSrc:t,storyId:Y.storyId??"",storyType:Y.storyType,url:Y.action.url,view:L,viewParameter:K})}let a="Pin"===e.__typename?v?.(e):void 0;return(0,y.jsx)(p.A,{auxData:{...a,...U},boardKey:null,component:i,imageWidth:el,isInDesktopCarousel:D,isInMobileCarousel:!D,item:null,itemWidthHeightRatio:Q,parentPinKey:H,pinKey:"Pin"===e.__typename?e:null,productTagParentPinId:H?.entityId,relatedInterestKey:null,saveButtonOptions:z,slotIndex:t,storyKey:Y,surface:O,view:L,viewParameter:K})},a=S?.[t];if(a){let e=n();return(0,y.jsx)(f.e,{children:t=>(0,y.jsx)(l.az,{position:"relative",children:(0,y.jsxs)(o.Fragment,{children:[e,a(t)]})})})}return n()},[W.length,i,v,D,S,el,Q,U,H,j,z,Y,O,L,K]);return(0,y.jsxs)(l.az,{borderColor:et?"decorative":void 0,borderWidth:et?er:void 0,dangerouslySetInlineStyle:{__style:{"--carousel-item-width":`${q}px`,"--story-item-width-height-ratio":`${1/Q}`,...eo&&{"--carousel-item-count":`${X}`}}},direction:"column",display:"flex",rounding:et?400:void 0,width:M??"100%",children:[ee&&(0,y.jsx)(l.az,{marginStart:6,marginTop:4,children:(0,y.jsx)(g.A,{auxData:U,headerDisplayOptions:A,marginBottomOverride:en,showExtraSmallSubtitle:ei,storyKey:Y,view:L,viewParameter:K})}),(0,y.jsx)(l.az,{position:"relative",children:(0,y.jsx)(d.A,{accessibilityLabelledBy:e,items:P??W,mode:"multi",onIndexChange:es,renderItem:ed,showNavigationButtons:F,showScrollMarkers:E})})]})}},212178(e,t,i){function n(e){return[0,24,21,26].includes(e)}function a({articleType:e,id:t,title:i}){let n=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\â€™'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${t}/`:`/discover/article/${n}/${t}/`}i.d(t,{I:()=>n,k:()=>a})},623115(e,t,i){i.d(t,{Ay:()=>o,Jt:()=>r,cq:()=>n});let n={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:"year_short_month_day_time_timezone",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year",NUMERIC_WITH_TIME:"numeric_with_time",NUMERIC_WITH_TIME_TIMEZONE:"numeric_with_time_timezone"},a=function(e){switch(e){case n.YEAR:return{year:"numeric"};case n.LONG:return{year:"numeric",month:"long",day:"numeric"};case n.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case n.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case n.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case n.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case n.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.MONTH_DAY:return{month:"long",day:"numeric"};case n.SHORT_MONTH:return{month:"short"};case n.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case n.DAY:return{day:"numeric"};case n.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case n.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case n.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case n.YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:return{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.TIME:return{hour:"numeric",minute:"2-digit"};case n.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.HOUR:return{hour:"numeric"};case n.NUMERIC_WITH_TIME:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"};case n.NUMERIC_WITH_TIME_TIMEZONE:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};default:throw Error('invalid dateFormatType "'+e+'"')}};function r(){return -1!==Intl.DateTimeFormat.toString().indexOf("[native code]")}function o(e,t,i,n=!0,l){let s=a(i);return n?s.timeZone="UTC":l&&(s.timeZone=l),r()||(s.calendar="gregory"),new Intl.DateTimeFormat(e,s).format(t)}},585689(e,t,i){let n;i.d(t,{A:()=>_});var a=i(825193),r=i(669897),o=i(20711),l=i(679902),s=i(762458),d=i(785231);let c=(0,l.A)(),u=new Set,p="";"u">typeof window&&(n=new r.Environment({network:r.Network.create((0,d.b3)(()=>({"x-pinterest-correlation-id":p}))),store:new r.Store(new r.RecordSource)}));let h=function({query:e,variables:t,correlationId:i}){!n||u.has(i)||(u.add(i),p=i,(0,r.fetchQuery)(n,(0,r.getRequest)(e),t,{fetchPolicy:"network-only"}))};var m=i(859471),g=i(526302);let _=function({strategy:e,query:t,variables:i,options:n,useGetLegacyResource:l,useGetLegacyPaginatedResource:d,useGetLegacyData:u}){let p;if("GraphQL"===e){let e=(0,r.getRequest)(t);return(0,a.useLazyLoadQuery)(e,i,n)}if(null!=l&&null!=d&&null!=u)throw Error(`Only pass one of those calls from the list: 
[useGetLegacyResource, useGetLegacyPaginatedResource, useGetLegacyData]
to useLazyLoadQueryOrLegacy`);let{actualVariables:_,refetch:f}=function(e,t){let i=(0,m.useRef)(e),n=(0,m.useRef)(null),[,a]=(0,m.useState)({}),r=(0,g.Ay)(e,i.current)?null==n.current?i.current:n.current:(i.current=e,n.current=null,i.current),o=(0,m.useCallback)(e=>{let i={...r,...e||{}};(0,g.Ay)(r,i)&&t(),n.current=i,a({})},[r,t]);return{actualVariables:r,refetch:o}}(i,()=>{p()}),y=(0,r.getRequest)(t),b=null;if("LegacyWithShadowGraphQL"===e){var x;let e;x=y.operation.name,e=function(e,t=!0){let i=0;if(0===e.length)return i;for(let t=0;t<e.length;t+=1)i=(i<<5)-i+e.charCodeAt(t)|0;return t?btoa(i.toString(10)):i}(`${x}-${JSON.stringify((0,s.A)(_))}`),h({query:t,variables:_,correlationId:b=`${e}-${c}`})}if(null!=u){let e=u(_,{correlationId:b});if(!e)return null;let{selections:i}=(0,r.getRequest)(t).fragment;return p=()=>{},(0,o.A)(i,{kind:"LegacyData",singularLegacyData:e,refetchInfo:{refetch:f},paginationInfo:null})}if(null!=l){let e=l(_,{correlationId:b}),{data:i}=e;if(p=e.refresh,null==i)return null;let{selections:n}=(0,r.getRequest)(t).fragment;return(0,o.A)(n,{kind:"LegacyData",singularLegacyData:i,refetchInfo:{refetch:f},paginationInfo:null})}if(null!=d){let e=d(_,{correlationId:b}),{data:i,isFetching:n,isAtEnd:a,fetchMore:l}=e;if(p=e.refresh,null==i)return null;let{selections:s}=(0,r.getRequest)(t).fragment;return(0,o.A)(s,{kind:"PaginationLegacyData",paginationLegacyData:i,refetchInfo:{refetch:f},paginationInfo:{isLoadingNext:n,hasNext:!a,loadNext:l}},null)}throw Error("useGetLegacyData or useGetLegacyResource must be provided")}},503378(e,t,i){i.d(t,{XC:()=>r,Z9:()=>a,a0:()=>n});let n=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,a=e=>window.innerHeight>=748&&n(e),r=()=>!("u"<typeof window)&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)},33396(e,t,i){i.d(t,{A:()=>h});var n=i(335831),a=i(859471),r=i(836737),o=i(254762),l=i(625277),s=i(259628);let d="0px 0px 8px rgba(0, 0, 0, 0.1)";var c=i(376195),u=i(297178),p=i(562615);function h({children:e,footerConfig:t,headerConfig:i,height:h,hideOnScroll:m,hideOnScrollState:{isHidden:g,updateHiddenState:_},isFooterHidden:f,noPadding:y,paddingX:b,paddingY:x=3,type:v,zIndex:A,isStoryPin:w}){let S,P;(0,a.useEffect)(()=>{(0,n.A)("FixedContent","/app/packages/layout/FixedContent.tsx")},[]);let{headerLimitedOverflow:k,ignoreObstructions:I,zIndexForGestaltBug:T}=i||{},{appUpsellFooterConfig:j,footerInLego:z,navFooterConfig:R}=t||{},E=!!j,F="header"===v?"top":"bottom",{isDarkMode:B}=(0,l.D2)(),{isRTL:C}=(0,c._8)(),{mWebCloseupRedesignEnabled:O}=(0,o.A)(),L=(0,a.useRef)(null),K=(0,a.useRef)(null);(0,a.useEffect)(()=>{try{if(!I){let e=L.current;K.current=k&&e&&Array.isArray(e.children)?e.children[0]:e,K.current instanceof HTMLElement&&s.A.addObstruction(F,K.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!I&&K.current instanceof HTMLElement&&s.A.removeObstruction(F,K.current)}},[I,k,F,B]);let M="top"===F?"relative":"fixed",$=y?0:x,N=(h??64)+(i?.overrideTop||0),D=m||R?{transition:z||O?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...g||f?{transform:`translateY(${"top"===F?-N:N}px)`,opacity:z||O?0:1}:Object.freeze({})}:{},H=2*!("relative"!==M||i?.noGutter),Y=H?-H:0,W=B?l.ee:"rgba(255,255,255,.95)";B&&("header"===v?S=-1:P=-1);let G=z?E?void 0:h??64:"100%",U=i?.isTranslucent&&W||B?W:"var(--sema-color-background-default)",V=i?.isTransparentBackground&&1?"var(--sema-color-background-transparent)":U,q=(0,a.useMemo)(()=>({height:"footer"===v&&O?`calc(${G} + env(safe-area-inset-bottom))`:G,...O&&"footer"===v?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*($||0)}px)`}:Object.freeze({})}),[O,G,v,$]),Q=(0,u.A)({skipExpActivation:!0});return(0,p.jsx)(r.az,{ref:L,bottom:"footer"===v,dangerouslySetInlineStyle:{__style:{top:S,bottomStyle:P,...!A||T?{zIndex:T||1}:Object.freeze({}),...k?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...i?.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...D}},"data-test-id":v,display:E?"flex":void 0,height:h&&!z?h:void 0,left:!0,marginEnd:z?"auto":Y,marginStart:z?"auto":Y,onTransitionEnd:()=>{(m||R)&&K.current&&(g||f?s.A.removeObstruction(F,K.current):s.A.addObstruction(F,K.current))},position:M,right:!0,top:"header"===v,width:z||"fixed"!==M?void 0:"100%",zIndex:T?void 0:A,children:(0,p.jsx)(r.az,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:V,paddingLeft:C||!Q||w?void 0:"8px",paddingRight:C&&Q&&!w?"8px":void 0,...q,boxShadow:O&&"footer"===v?`0 10px 0 0 ${V}, ${d}`:z?d:void 0,marginBottom:z&&!R?.docked?16:void 0,...k?{pointerEvents:"auto"}:Object.freeze({}),...i?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:z||t?.alignCenter?"flex":void 0,marginEnd:z?"auto":void 0,marginStart:z?"auto":void 0,paddingX:b||4*("footer"===v&&!y)+H,paddingY:$,position:"relative",rounding:z&&!R?.docked?"pill":void 0,width:R?R.footerWidth:E?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:_}):e})})}},70994(e,t,i){i.d(t,{A:()=>s});var n=i(335831),a=i(859471),r=i(33396),o=i(447341),l=i(562615);function s({alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,hasTopShadow:s,navFooterConfig:d,...c}){return(0,a.useEffect)(()=>{(0,n.A)("FixedFooter","/app/packages/layout/FixedFooter.tsx")},[]),(0,l.jsx)(o.A,{appUpsellFooterConfig:t,hideOnScroll:c.hideOnScroll,navFooterConfig:d?.scrollConfig,children:n=>(0,l.jsx)(r.A,{...c,footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,hasTopShadow:s,navFooterConfig:d},hideOnScrollState:n,type:"footer"})})}},97816(e,t,i){i.r(t),i.d(t,{default:()=>d});var n=i(335831),a=i(859471),r=i(836737),o=i(33396),l=i(447341),s=i(562615);function d({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:i,isTranslucent:d,isTransparentBackground:c,noGutter:u,overrideTop:p,useRoundedCorners:h,zIndexForGestaltBug:m,isStoryPin:g,..._}){(0,a.useEffect)(()=>{(0,n.A)("FixedHeader","/app/packages/layout/FixedHeader.tsx")},[]);let{noPadding:f,paddingY:y=3,zIndex:b}=_;return(0,s.jsx)(r.ib,{height:t?44+2*(f?0:y)*4:void 0,top:p||0,zIndex:b||void 0,children:(0,s.jsx)(l.A,{hideOnScroll:_.hideOnScroll,children:n=>(0,s.jsx)(o.A,{..._,headerConfig:{isTranslucent:d,isTransparentBackground:c,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:i,noGutter:u,overrideTop:p,zIndexForGestaltBug:m,useRoundedCorners:h},hideOnScrollState:n,isStoryPin:g,type:"header"})})})}},447341(e,t,i){i.d(t,{A:()=>o});var n=i(859471),a=i(835122);function r(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o extends n.Component{constructor(...e){super(...e),r(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),r(this,"lastScrollPos",0),r(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),r(this,"handleScroll",(0,a.A)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:i}=this.state,n=window.scrollY,a=n-this.lastScrollPos,r="none",{scrollHeight:o,clientHeight:l}=document.documentElement||{};Number.isNaN(o)||Number.isNaN(l)||(r=a<0?n<=Math.abs((window.scrollMinY||0)+Math.max(a,20))?"start":"none":n>=(window.scrollMaxY||o-l)-Math.max(a,20)?"end":"none");let s=55*!t?.isModal;e?a>20&&i&&n>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(a<-20&&!i||n<=s)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===r&&!i||n<=s?(this.updateHiddenState(!0),t?.onScroll(!0)):(n>s||"end"===r)&&i&&(this.updateHiddenState(!1),t?.onScroll(!1)):(a<-20||"start"===r)&&i||n<=s?(this.updateHiddenState(!1),t?.onScroll(!1)):(a>20||"end"===r)&&!i&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=n},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:i}=this.state;return e({isHidden:!t?.forceShow&&i,updateHiddenState:this.updateHiddenState})}}},128353(e,t,i){i.r(t),i.d(t,{default:()=>c});var n=i(335831),a=i(859471),r=i(836737),o=i(503378),l=i(382960),s=i(376195),d=i(562615);let c=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:i=!1,hasGutter:c=!0,height:u,showKeychainError:p=!1,useViewport:h=!1})=>{(0,a.useEffect)(()=>{(0,n.A)("MobilePageContainer","/app/packages/layout/MobilePageContainer.tsx")},[]);let m=(0,s._8)(),g=28*!!(0,o.Z9)(m.userAgent.platform);return(0,d.jsx)(r.az,{"data-layout-shift-boundary-id":t||"PageContainer",height:h?`calc(100vh - ${g}px)`:u,paddingX:c?2:void 0,paddingY:i||p?void 0:3,children:(0,d.jsx)(l.k,{value:!!c,children:e})})}},761660(e,t,i){i.d(t,{Ay:()=>c,B4:()=>u,FU:()=>p,Fr:()=>r,MQ:()=>d,it:()=>m,oW:()=>h});var n=i(526302),a=i(108274);let r=(e,t)=>e.length===t.length&&e.every((e,i)=>(0,a.A)(e,t[i])),o=(e,t)=>e.length===t.length&&e.every((e,i)=>e===t[i]),l=e=>e;function s(e,t=o,i=l){return function(n){let a=[];return function(...r){let o=a.find(e=>t(e.args,i(r)));if(o)return o.result;let l=n(...r);return a.push({args:i(r),result:l}),e&&a.length>e&&a.shift(),l}}}function d(e,t=o,i=l){let n=[];return{memoize:function(a){return function(...r){let o=i(r),l=n.find(e=>t(e.args,o));if(l)return l.result;let s=a(...r);return n.push({args:o,result:s}),e&&n.length>e&&n.shift(),s}},clearCache:function(){n=[]}}}let c=s(),u=s(1),p=s(void 0,o,e=>[JSON.stringify(e)]),h=s(0,r),m=s(0,(e,t)=>e.length===t.length&&e.every((e,i)=>(0,n.Ay)(e,t[i])))},330846(e,t,i){i.d(t,{A:()=>l});var n,a=i(859471);i(825193);var r=i(900565);let o=(void 0!==n||(n=i(844005)).hash&&"8b6ce790922ff8b900b4ae18b06b7c11"!==n.hash&&console.error("The definition of 'useGetNormalizedPinImage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function l({pinKey:e,maxWidth:t}){let i=(0,r.A)(o,e),n=i?.images_564x||i?.images_736x||i?.images_orig||i?.images_474x||i?.images_236x,l=n?.width||1,s=n?.height||1,d=n?.url||"",c=function(e,t,i=564){return e>i&&(t*=i/e,e=i),{width:e,height:t}}(l,s,t);return{getNormalizedPinImage:(0,a.useCallback)(()=>({width:c.width,height:c.height,url:d}),[c.height,c.width,d])}}},979842(e,t,i){i.d(t,{Ry:()=>r,YV:()=>o,dp:()=>a,xt:()=>n});let n="pin-builder-font-faces",a="system-font-faces",r="pin-builder-education-font-faces",o="licensed"},353465(e,t,i){i.d(t,{A:()=>I});var n=i(532259),a=i(291982),r=i(45738),o=i(850855),l=i(863892),s=i(31710),d=i(132460),c=i(457983),u=i(705852),p=i(711076),h=i(834382);let m="stopwatch_v2",g=(0,n.lo)(m),_=new Map,f=[],y=[],b=!1;function x(){let e=performance.now();_.forEach((t,i)=>{e-t.startTimestamp>t.maxDuration&&(g(`Auto-aborting stale stopwatch ${i} after ${t.maxDuration}ms`),k(i,"exceeded_max_duration"))})}function v(e,t,i){performance.mark(`${m}:${e}:${t}`,i?{startTime:i}:void 0)}function A(e,t,i,n){performance.measure(`${m}:${e}:${t}`,i,n)}function w(e){let t=`${m}:${e}:`,i=[`${t}start`,`${t}end`,`${t}subspan:`];return f.filter(e=>e.name.startsWith(t)&&!i.some(t=>e.name.startsWith(t))).map(e=>({label:e.name.slice(t.length),timestamp:e.startTime}))}function S(e,t){let i=`${m}:${e}:subspan:`;return y.filter(e=>e.name.startsWith(i)).map(e=>({name:e.name.slice(i.length),id:(0,d.A)(),parentId:t,startTime:e.startTime,endTime:e.startTime+e.duration,annotationMap:{},binaryAnnotationMap:{}}))}function P(e){let t=`${m}:${e}:`;try{f=f.filter(e=>!e.name.startsWith(t)),y=y.filter(e=>!e.name.startsWith(t))}catch{}let i=_.get(e);i?.resourceObserver?.disconnect(),_.delete(e)}function k(e,t){if(!(0,c.A)())return;let i=_.get(e);if(!i)return void(0,u.J6)({errorName:"stopwatch_not_found",pwtName:e,errorDetailsTag:"abort",version:"2"});g(`Aborted ${e}: ${t}`);let n=performance.now(),{startTimestamp:r}=i,l=(0,d.A)(),m=(0,h.tQ)(),f={type:"stopwatch",name:e},y={type:"ABORT",traceId:l,startTime:r,endTime:n,spans:S(e,l),annotationMap:(0,s.A)(w(e)),binaryAnnotationMap:(0,a.jp)({metricId:f,pwtStaticContext:m,binaryAnnotations:i.binaryAnnotations,performanceResourceTimings:i.resourceBuffer,type:"ABORT",stopwatchVersion:2}),reason:t??"unknown"};(0,o.A)({metricId:f,pwtStaticContext:m,result:y,sampleRate:i.sampleRate,stopwatchVersion:2}),(0,u.HF)({abortReason:t??"unknown",pwtName:e,annotateExperiments:(0,p.e0)(),version:"2"}),P(e)}function I(e,t={}){let{sampleRate:i,maxDuration:n}=t;return{name:e,start:t=>(function(e,t={}){if(!(0,c.A)())return;!function(){if(b||!(0,c.A)())return;b=!0;let e=`${m}:`;try{new PerformanceObserver(t=>{let i=t.getEntries().filter(t=>t.name.startsWith(e));f.push(...i)}).observe({type:"mark",buffered:!0}),new PerformanceObserver(t=>{let i=t.getEntries().filter(t=>t.name.startsWith(e));y.push(...i)}).observe({type:"measure",buffered:!0}),setInterval(x,1e4)}catch{}}(),_.has(e)&&(g(`Stopwatch ${e} already active, aborting previous`),k(e,"new_stopwatch_started"));let i=t.startTime??performance.now(),{observer:n,buffer:a}=function(){let e=[];if(!(0,c.A)())return{observer:null,buffer:e};try{let t=new PerformanceObserver(t=>{if(e.push(...t.getEntries()),e.length>5e3){let t=e.length-5e3;e.splice(0,t),(0,u.pI)({eventName:"resourceBufferTruncated.v2",tags:{dropped:t,remaining:5e3}}),g("Resource buffer truncated",{dropped:t,remaining:5e3})}});return t.observe({type:"resource",buffered:!1}),{observer:t,buffer:e}}catch{return{observer:null,buffer:e}}}();_.set(e,{sampleRate:t.sampleRate??1,binaryAnnotations:{},resourceObserver:n,resourceBuffer:a,startTimestamp:i,maxDuration:t.maxDuration??6e4}),v(e,"start",i),(0,u.Lc)({pwtName:e,annotateExperiments:(0,p.e0)(),version:"2"}),g(`Started ${e}`)})(e,{...t,sampleRate:i,maxDuration:n}),stop:t=>(function(e,t){var i;let n;if(!(0,c.A)())return;let f=_.get(e);if(!f)return void(0,u.J6)({errorName:"stopwatch_not_found",pwtName:e,errorDetailsTag:"stop",version:"2"});let y=t??performance.now();v(e,"end",y);let{startTimestamp:b}=f;A(e,"duration",`${m}:${e}:start`,`${m}:${e}:end`);let x=(0,d.A)(),k=(0,h.tQ)(),I={type:"stopwatch",name:e},T={type:"COMPLETE",metricId:I,traceId:x,startTime:b,endTime:y,spans:[...S(e,x),...(i=f.resourceBuffer,[{name:"network_resources",id:n=(0,d.A)(),parentId:x,startTime:b,endTime:y,annotationMap:{},binaryAnnotationMap:{}},...i.filter(e=>e.responseEnd>0&&e.startTime>=b&&e.responseEnd<=y).map(e=>(0,l.A)((0,r.B)(e,[]),n)).filter(Boolean)])],annotationMap:(0,s.A)(w(e)),binaryAnnotationMap:(0,a.jp)({metricId:I,pwtStaticContext:k,binaryAnnotations:f.binaryAnnotations,performanceResourceTimings:f.resourceBuffer,type:"COMPLETE",stopwatchVersion:2})};g(`Stopped ${e}`,{duration:y-b}),(0,o.A)({metricId:I,pwtStaticContext:k,result:T,sampleRate:f.sampleRate,stopwatchVersion:2}),(0,u.ed)({pwtName:e,annotateExperiments:(0,p.e0)(),version:"2"}),P(e)})(e,t),abort:t=>k(e,t),annotate:t=>{(0,c.A)()&&_.has(e)&&(v(e,t),g(`${e} annotation: ${t}`))},binaryAnnotate:(t,i,n)=>{let a;(a=_.get(e))&&(a.binaryAnnotations={...a.binaryAnnotations,[t]:{value:i,type:n}},g(`${e} binary: ${t}=${String(i)}`))},subspanStart:t=>{(0,c.A)()&&_.has(e)&&(v(e,`subspan:${t}:start`),g(`${e} subspan start: ${t}`))},subspanStop:t=>(function(e,t){if((0,c.A)()&&_.has(e)){v(e,`subspan:${t}:end`);try{A(e,`subspan:${t}`,`${m}:${e}:subspan:${t}:start`,`${m}:${e}:subspan:${t}:end`),g(`${e} subspan stop: ${t}`)}catch{g(`${e} subspan stop failed: ${t}`)}}})(e,t),isActive:()=>_.has(e)}}},483851(e,t,i){i.d(t,{A:()=>a});let n=(0,i(353465).A)("search_tab_render");function a(){return n}},31710(e,t,i){i.d(t,{A:()=>n});let n=e=>{let t={};e.forEach(({label:e,timestamp:i})=>{t={...t,[e]:(t[e]||[]).concat([i])}});let i=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,n)=>{let a=n?`${e}_${n+1}`:e;i={...i,[a]:t}})}),i}},46496(e,t,i){i.d(t,{A:()=>h});var n=i(335831),a=i(859471),r=i(836737),o=i(396901),l=i(616275),s=i(562615);function d({category:e,ingredients:t,textSize:i="300"}){return(0,a.useEffect)(()=>{(0,n.A)("Ingredient","/app/packages/recipePin/Ingredient.tsx")},[]),(0,s.jsxs)(r.az,{children:[e&&(0,s.jsx)(r.az,{children:(0,s.jsx)(r.KJ,{size:i,weight:"bold",children:e})}),(0,s.jsx)("ul",{children:t.map((e,t)=>(0,s.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,s.jsx)(r.az,{marginTop:1,children:(0,s.jsxs)(r.KJ,{color:"neutral",size:i,children:["â€¢ ",e.amt||null," ",e.name]})})},t))})]})}var c=i(390426),u=i(48480),p=i(208762);function h({recipeProps:e,marginOverrides:t}){var i;(0,a.useEffect)(()=>{(0,n.A)("RecipeIngredients","/app/packages/recipePin/RecipeIngredients.tsx")},[]);let h=(0,o.A)(),{image:m,name:g,categorizedIngredients:_}=e?.recipe||{},{peekCloseupEnabled:f}=(0,p._G)(),y=0;if(_&&_.length){let e=[];_.forEach(t=>(y+=t.ingredients?.length||0,e.push(t.ingredients)))}let b=f?(i=y,(0,l.A)(h.ngettext('{{ count }} Ingredient', '{{ count }} Ingredients', i, 'closeup.recipePin.heading.ingredientCount', 'Ingredient count on a Pin. count: number of ingredients'),{count:i.toString()})):h._('Ingredients', 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description');return(0,s.jsx)(r.az,{marginBottom:2,marginTop:2,children:(0,s.jsxs)(c.A,{itemType:"https://schema.org/Recipe",children:[(0,s.jsx)("meta",{content:g??void 0,itemProp:"name"}),(0,s.jsx)("meta",{content:m,itemProp:"image"}),(0,s.jsx)(u.A,{heading:b,children:(0,s.jsx)(r.az,{marginTop:4,children:_&&_.map(({category:e,ingredients:i},n)=>{let o=`ingredient-${n}`;return(0,s.jsx)(a.Fragment,{children:(0,s.jsx)(r.az,{marginBottom:t?.ingredientMarginBottom||4,children:(0,s.jsx)(d,{category:e,ingredients:i??[],textSize:"300"})})},o)})})})]})})}},827154(e,t,i){function n(e,t){let i;if(e.error){let{httpStatus:n,api_error_code:a,redirectUrl:r}=e.error;(404===n||401===n&&7===a)&&(i={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===n&&r&&(i={pathname:r})}return i}i.d(t,{A:()=>n})},799055(e,t,i){i.d(t,{A:()=>s});var n=i(979638),a=i(47998),r=i(107639),o=i(827154),l=i(508765);function s(e){let t=(0,n.Zp)(),i=(0,n.zy)(),{isAuth:s}=(0,a.A)(),d=!s&&(0,r.dM)(i),c=(0,l.A)(e),u=(0,o.A)(c,d);return u&&t(u.pathname,{replace:!0,state:u.state}),c}},390426(e,t,i){i.d(t,{A:()=>o});var n=i(335831),a=i(859471),r=i(562615);let o=e=>{(0,a.useEffect)(()=>{(0,n.A)("RichPinInformation","/app/packages/rich-snippet/RichPinInformation.tsx")},[]);let t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,r.jsx)("div",{"data-test-id":"rich-pin-information",...t,children:e.children||null})}},321310(e,t,i){i.d(t,{A:()=>a});var n=i(589658);function a(e){let{enteredQuery:t,filters:i,guideAdded:a,query:r,requestParams:o,rs:l,scope:s,selectedOneBarModules:d,user:c,inlineSuggestion:u,multimodalPinId:p}=e;if(!r)return"/";let h={q:r,rs:l,...o};if(i&&(h.filters=i),c&&(h.user=c),d&&(h.selected_one_bar_modules=d),a&&a.term&&(h.add_refine=`${a.term}|guide|word|${a.index}`),t&&(h.entered_query=t),u&&(h.inline_suggestion=u),p&&(h.query_image_pins=p),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,n.A)(h)}`;let m=s;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(m??"")||(m="pins"),m?`/search/${m}/?${(0,n.A)(h)}`:`${window.location.pathname}?${(0,n.A)(h)}`}},958816(e,t,i){i.d(t,{A:()=>r});var n=i(212178),a=i(589658);function r({bubbleId:e,pinId:t,query:i,referringSource:r,storyCategory:o,storyId:l,title:s}){let d=void 0!==o&&[0,24,21,26].includes(o),c=(0,a.A)({q:i,rs:r||void 0,b_id:e,source_id:l,top_pin_ids:t}),u=d&&s?(0,n.k)({title:s,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?u:`/search/pins/${c?"?"+c:""}`}},998053(e,t,i){i.d(t,{$G:()=>r,AP:()=>m,G2:()=>a,Kf:()=>s,Nc:()=>u,Qf:()=>l,Tx:()=>o,V1:()=>d,ZD:()=>g,hm:()=>c,iz:()=>f,xP:()=>h,xx:()=>_,ys:()=>p});var n=i(836737);let a={w:9,h:16},r=a.w/a.h,o=800,l=10,s=5e3,d=2e3;function c(e,t=1){return{x:(e??24)/5,y:(e??24)*(t-1)}}let u={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},p=[u.IMAGE,u.VIDEO],h={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},m=new n.rk(1),g=new n.K5([m]),_=new n.K5([g]),f=e=>{let t=Math.floor(e||0),i=Math.floor(t/60),n=t-60*i,a=i<10?`${i}`:i,r=n<10?`0${n}`:n;return`${a}:${r}`}},994308(e,t,i){i.d(t,{A:()=>n});function n(e){switch(e){case -1:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"clock-history";default:return"magnifying-glass"}}},81305(e,t,i){i.d(t,{A:()=>n});let n=(e,t)=>{let i=new URL(e,"https://pinterest.com");return i.search=new URLSearchParams(t).toString(),i.toString().substring(i.origin.length)}},219439(e,t,i){function n({cropArea:e,cropSource:t,entrypoint:i,requestParams:n,searchQuery:a,surfaceType:r,title:o,trafficSource:l}){let s=[];if(e){let{x:t,y:i,w:n,h:a}=e;t>=0&&i>=0&&n>=0&&a>=0&&s.push(`x=${t}`,`y=${i}`,`w=${n}`,`h=${a}`)}return t&&s.push(`cropSource=${t}`),i&&s.push(`entrypoint=${i}`),r&&s.push(`surfaceType=${r}`),o&&s.push(`full_feed_title=${encodeURIComponent(o)}`),a&&s.push(`q=${a}`),l&&"unknown"!==l&&s.push(`rs=${l}`),n&&s.push(`requestParams=${encodeURIComponent(n)}`),s.length?`?${s.join("&")}`:""}i.d(t,{A:()=>n})},640439(e,t,i){i.d(t,{A:()=>a});var n=i(219439);function a({cropArea:e,cropSource:t,entrypoint:i,isProductPage:a,pinId:r,requestParams:o,searchQuery:l,surfaceType:s,title:d,trafficSource:c}){let u=(0,n.A)({cropArea:e,cropSource:t,entrypoint:i,requestParams:o,searchQuery:l,surfaceType:s,title:d,trafficSource:c}),p="";return a&&(p="products/"),`/pin/${r}/visual-search/${p}${u}`}},239e3(e,t,i){i.d(t,{A:()=>l});var n=i(335831),a=i(859471),r=i(836737),o=i(562615);function l({text:e}){return(0,a.useEffect)(()=>{(0,n.A)("AccessibilityHiddenHeading","/app/www/Header/AccessibilityHiddenHeading.tsx")},[]),(0,o.jsx)(r.az,{display:"visuallyHidden",children:(0,o.jsx)(r._Y,{accessibilityLevel:1,children:e})})}},165581(e,t,i){i.d(t,{A:()=>p});var n=i(335831),a=i(859471),r=i(836737),o=i(396901),l=i(97816),s=i(128353),d=i(748027),c=i(644094),u=i(562615);function p(e){(0,a.useEffect)(()=>{(0,n.A)("BoardSectionCreate","/app/www/boardSection/BoardSectionCreate.tsx")},[]);let t=(0,o.A)(),{backButtonIcon:i,errorMessage:p,name:h,onNextButtonTouch:m,onNameChange:g,selectedPinIds:_=[],useRoundedCorners:f}=e,y=_.length>0?130:64;return(0,u.jsxs)(s.default,{hasFixedHeader:!0,children:[(0,u.jsxs)(l.default,{height:y,paddingY:3,useRoundedCorners:f,children:[(0,u.jsxs)(r.so,{alignItems:"center",justifyContent:"between",children:[(0,u.jsx)(c.default,{color:"default",icon:i||"close",padding:3,size:"sm"}),(0,u.jsx)(r._Y,{accessibilityLevel:1,size:"300",children:t._('Add section', 'for add board section page', 'for add board section page')}),(0,u.jsx)(r.az,{"data-test-id":"create-section-button",children:(0,u.jsx)(r.$n,{accessibilityLabel:t._('Add', 'boardSectionCreate.Add.Button.Text', 'Add button accessibility label for board section create page'),color:"primary",disabled:""===h.trim(),onClick:m,size:"lg",text:t._('Next', 'Next button for board section create page', 'Next button for board section create page')})})]}),_&&(0,u.jsx)(d.A,{selectedPinIds:_})]}),(0,u.jsx)(r.az,{"data-test-id":"addSectionName",paddingX:2,paddingY:3,children:(0,u.jsx)(r.A_,{errorMessage:p||"",id:"section-name-input",label:t._('Name', 'boardSectionCreate.TextField.Name.Label', 'TextField label to Name on BoardSectionCreate'),onChange:e=>g(e.event),size:"lg",value:h})})]})}},944728(e,t,i){i.d(t,{A:()=>g});var n=i(335831),a=i(859471),r=i(106386),o=i(836737),l=i(47998),s=i(396901),d=i(508765),c=i(339558),u=i(459271),p=i(537523),h=i(154648),m=i(562615);function g({excludeBoardId:e,hideSectionPickerList:t,onRepin:i}){var g;(0,a.useEffect)(()=>{(0,n.A)("RepinBoard","/app/www/boardSection/RepinBoard.tsx")},[]);let _=(0,s.A)(),f=(0,l.A)(),y=(g=f.isAuth?f.username:"",(0,d.A)({name:"BoardsResource",options:c.w.options({username:g,boardOrder:"custom",filterStories:!0,mixPublicSecret:!0})}),(0,r.d4)(e=>(0,u.A)(e)||[])),[b,x]=(0,a.useState)(null);return y.length>0&&(b&&!t?(0,m.jsx)(h.A,{boardId:b?.id,repin:(e,t)=>{b&&i(b,t)},showSectionRep:!0}):(0,m.jsxs)(o.az,{"data-test-id":"board-picker-row-container",children:[(0,m.jsx)(o.az,{marginTop:3,children:(0,m.jsx)(o.KJ,{children:_._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,m.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:"70px"}},paddingY:3,children:y.filter(t=>t.id!==e).map(e=>(0,m.jsx)(p.A,{boardId:e.id,onBoardSelected:n=>{!t&&n&&e?x(e):i(e)}},e.id))})]}))}},237285(e,t,i){i.d(t,{LY:()=>I,Ay:()=>j});var n=i(335831),a=i(859471),r=i(106386),o=i(979638),l=i(836737),s=i(388364),d=i(396901),c=i(70994),u=i(97816),p=i(128353),h=i(906494),m=i(944728),g=i(748027),_=i(477327),f=i(581296),y=i(321571),b=i(13324),x=i(455132);let v=e=>t=>{let{source:i,target:n,pinIds:a}=e;if(t({type:"PINS_MOVE",payload:e}),i.boardlessPins||n.boardId!==i.boardId){let e={board_id:n.boardId,pin_ids:a,section_id:n.sectionId};return y.A.create("BulkEditResource",e).callUpdate()}if(n.sectionId){let e={section_id:n.sectionId,pins:a},i="BoardSectionEditResource";return y.A.create(i,e).callUpdate().then(n=>{let a=(0,f.S8)(n.resource_response.data,x.A[i]);return t((0,b.md)(i,e,n,a)),n})}let r={section_id:i.sectionId,pins:a};return y.A.create("BoardSectionPinsResource",r).callDelete()};var A=i(702618),w=i(644094),S=i(154648),P=i(562615);function k(e,t,i){return e?i._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):t?i._('Saved to section!', ' - ', ' -- '):i._('Saved to board!', ' - ', ' -- ')}function I({onAddNewSection:e,useIconWithBackground:t}){(0,a.useEffect)(()=>{(0,n.A)("RepinSection","/app/www/boardSection/RepinSection.tsx")},[]);let i=(0,d.A)();return(0,P.jsx)(c.A,{alignCenter:t,height:t?80:70,children:(0,P.jsx)(_.A,{onTouch:e,pressState:"none",children:(0,P.jsxs)(l.az,{alignItems:"center","data-test-id":"addSectionButton",display:"flex",padding:+!t,children:[t?(0,P.jsx)(l.az,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:200,children:(0,P.jsx)(l.In,{accessibilityLabel:i._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button'),color:"default",icon:"plus",size:20})}):(0,P.jsx)(l.In,{accessibilityLabel:i._('Add section button', ' - ', ' -- '),color:"error",icon:"circle-plus",size:38}),t?(0,P.jsx)(l.az,{marginStart:2,children:(0,P.jsx)(l.KJ,{size:"400",weight:"bold",children:i._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,P.jsx)(l.az,{marginStart:3,children:(0,P.jsx)(l.KJ,{weight:"bold",children:i._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}class T extends a.PureComponent{constructor(...e){var t,i,n;super(...e),t="onRepinToBoard",i=e=>{e.section_count?this.props.onRepinToBoardWithSections(e):this.props.repinToOtherBoard(e.id,this.props.i18n)},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}render(){let{boardId:e,boardSectionId:t,orginalBoardId:i,onAddNewSection:n,repin:a,hideBoardPickerRow:r,selectedPinIds:o,isCollaborative:s}=this.props,d=i===e;return(0,P.jsxs)(p.default,{hasFixedHeader:!0,children:[(0,P.jsxs)(u.default,{hasBorder:!0,height:140,children:[(0,P.jsxs)(l.so,{alignItems:"center",justifyContent:"start",children:[(0,P.jsx)(l.az,{column:2,children:(0,P.jsx)(w.default,{})}),(0,P.jsx)(l.az,{column:8,children:(0,P.jsx)(l._Y,{accessibilityLevel:1,align:"center",size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,P.jsx)(l.az,{column:2})]}),(0,P.jsx)(g.A,{selectedPinIds:o})]}),e&&(0,P.jsx)(S.A,{boardId:e,hideBoardPickerRow:d&&r,originalBoardId:i,repin:a,sectionId:t}),d&&(0,P.jsxs)(l.az,{children:[!s&&(0,P.jsx)(m.A,{excludeBoardId:e,hideSectionPickerList:!0,onRepin:this.onRepinToBoard}),(0,P.jsx)(I,{onAddNewSection:n})]})]})}}let j=function(e){let{inSelectAll:t,pinIds:i,orginalBoardId:n,boardSectionId:a,onRefreshBoardSection:l,url:c}=e,{showToast:u}=(0,h.CG)(),p=(0,d.A)(),m=(0,o.Zp)(),g=(0,r.wA)(),_=async(e,r,o)=>{let d=r&&r.id,p={boardId:n,sectionId:a},h={boardId:e,sectionId:d},_=t?(0,A.A)({source:p,target:h,excludePinIds:i}):v({source:p,target:h,pinIds:i});n!==e?(await g(_),m(c,{})):(await g(_),l&&await l()),u(({hideToast:e})=>(0,P.jsx)(s.A,{onHide:e,text:k(t,d,o)}))},f=async(e,r)=>{let o={boardId:n,sectionId:a},l={boardId:e,sectionId:void 0};u(({hideToast:e})=>(0,P.jsx)(s.A,{onHide:e,text:k(t,void 0,r)})),await g(t?(0,A.A)({source:o,target:l,excludePinIds:i}):v({source:o,target:l,pinIds:i})),m(-2)};return(0,P.jsx)(T,{...e,i18n:p,repin:_,repinToOtherBoard:f})}},748027(e,t,i){i.d(t,{A:()=>d});var n=i(335831),a=i(859471),r=i(836737),o=i(396901),l=i(863153),s=i(562615);function d({selectedPinIds:e}){(0,a.useEffect)(()=>{(0,n.A)("SelectedPinsPreview","/app/www/boardSection/SelectedPinsPreview.tsx")},[]);let t=(0,o.A)(),i=(0,a.useRef)(null),d=(0,l.zy)(),c=(e||[]).map(e=>d[e]).filter(Boolean);(0,a.useEffect)(()=>{let e=i.current;e&&(e.scrollLeft=e.scrollWidth-e.offsetWidth)},[c]);let u=c.map((e,i)=>{let{description:n,images:a}=e,o=a?.["236x"];return(0,s.jsx)(r.az,{marginEnd:1,children:(0,s.jsx)(r.n1,{height:65,rounding:200,wash:!0,width:50,children:o?.url&&(0,s.jsx)(r._V,{alt:!!n?.trim()&&n?.trim()||t._('Selected Pin', 'SelectedPinsPreview.image.accessibilityLabel', 'Accessibility label for Pin image without description'),color:e.dominant_color??"",fit:"contain",naturalHeight:o?.height??1,naturalWidth:o?.width??1,src:o.url})})},i)});return(0,s.jsx)(r.az,{ref:i,display:"flex",marginTop:2,overflow:"scroll",children:u})}},48480(e,t,i){i.d(t,{A:()=>h});var n=i(335831),a=i(859471),r=i(836737),o=i(896771),l=i(129625),s=i(376195),d=i(491149),c=i(119795),u=i(208762),p=i(562615);function h({actionButton:e,auxData:t,children:i,collapseButtonElementType:h,collapseByDefault:m=!0,componentType:g,disabled:_,displayViewState:f,expandButtonElementType:y,forceTappableHeader:b,headerHeight:x,headerPaddingX:v,headerPreview:A,heading:w,icon:S,surface:P,viewParameter:k,viewType:I}){(0,a.useEffect)(()=>{(0,n.A)("CollapsibleLayout","/app/www/closeup/CollapsibleLayout.tsx")},[]);let T=(0,d.qJ)(),{isBot:j}=(0,s._8)(),{logContextEvent:z}=(0,l.o)(),{setIsShoppingModuleExpanded:R}=(0,u._G)(),E=(0,a.useRef)(null),[F,B]=(0,a.useState)(void 0),[C,O]=(0,a.useState)(_||!j&&m||null!=f&&[1,2].includes(f));return(0,c.A)(()=>{let e=E.current,t=null;if(e){let i=()=>{let t=e.scrollHeight,i=e.firstElementChild;B(t+(i?parseInt(window.getComputedStyle(i).marginTop,10):0))};i(),(t=new ResizeObserver(i)).observe(e)}return()=>{t?.disconnect()}}),(0,a.useEffect)(()=>{R&&R(!C)},[]),(0,p.jsxs)(r.so,{dataTestId:"collapsible-layout",direction:"column",gap:4*!T,children:[(0,p.jsx)(o.A,{actionButton:e,collapsed:C,disabled:_,displayViewState:f,forceTappableHeader:b,headerHeight:x,headerPaddingX:v,headerPreview:A,heading:w,icon:S,onClick:()=>{O(!C),R&&R(C),z({aux_data:t,component:g,element:C?y:h,event_type:T?101:102,view_parameter:k,view_type:I})},showArrow:!0,surface:P}),T?(0,p.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{transition:"height 600ms cubic-bezier(.25,1,.5,1)"}},"data-test-id":`collapsible-layout-content-${C?"collapsed":"expanded"}`,height:C?"0px":`${F}px`,marginBottom:C?void 0:1,overflow:"hidden",children:(0,p.jsx)(r.az,{ref:E,children:i})}):!C&&(0,p.jsx)(r.az,{children:i})]})}},909621(e,t,i){i.d(t,{A:()=>l});var n=i(335831),a=i(859471),r=i(836737),o=i(562615);function l({children:e,color:t,isDarkMode:i,outlined:l,type:s="bold",rounding:d=400}){return(0,a.useEffect)(()=>{(0,n.A)("OutlinedBox","/app/www/common/OutlinedBox/OutlinedBox.tsx")},[]),(0,o.jsxs)(r.az,{position:"relative",children:[(0,o.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},"data-test-id":"outline-content",overflow:"hidden",rounding:d,children:e}),l&&(0,o.jsx)(r.az,{bottom:!0,color:"transparent",dangerouslySetInlineStyle:{__style:function({color:e,isDarkMode:t,type:i}){let n=t?"#fff":"#000",a=t?"#000":"#fff";return"solid"===i?{boxShadow:`inset 0 0 0 2px ${e??n}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??n}`,MozBoxShadow:`inset 0 0 0 2px ${e??n}`}:"border"===i?{border:`1px solid ${e??"var(--sema-color-border-selected)"}`,boxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)",WebkitBoxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)",MozBoxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)"}:{boxShadow:`inset 0 0 0 2px ${e??n}, inset 0 0 0 4px ${a}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??n}, inset 0 0 0 4px ${a}`,MozBoxShadow:`inset 0 0 0 2px ${e??n}, inset 0 0 0 4px ${a}`}}({color:t,isDarkMode:i,type:s})},"data-test-id":"outline-box",left:!0,position:"absolute",right:!0,rounding:d,top:!0})]})}},599338(e,t,i){i.d(t,{A:()=>m});var n=i(335831),a=i(859471),r=i(836737),o=i(923957),l=i(396901),s=i(70565),d=i(958816),c=i(994308),u=i(616275),p=i(819589),h=i(562615);function m({bubble:e,contextLogData:t,disableTabIndex:i,height:m,isHovered:g,onClick:_,onMouseEnter:f,onMouseLeave:y,referringSource:b,searchBoxRenderStopwatch:x,slotIndex:v,storyId:A,viewParameter:w,viewType:S,width:P}){(0,a.useEffect)(()=>{(0,n.A)("Bubble","/app/www/discover/Bubbles/Bubble.tsx")},[]);let k=(0,l.A)(),{id:I,action:T,aux_fields:j,cover_images:z,dominant_colors:R,identifier_icon_type:E,title:F,story_category:B,curator:C}=e,O=z&&z[0]&&(z[0]["280x280"]||z[0]["236x"]),L=(0,u.A)(F&&F.format||"",F&&F.args||{}),K=R&&R.length?R[0]:"gray",M=T?.url||(0,d.A)({storyCategory:B,query:L,referringSource:b,bubbleId:I,storyId:A,title:F.format,pinId:j?.image_pin_id}),$=!!E&&(0,c.A)(E);return(0,h.jsx)(s.g$,{contextLogData:{story_id:A,...t},impressionAuxFields:{storyCategory:B,story_id:A},impressionType:"Article",loggingId:I,slotIndex:v,viewParameter:w,viewType:S,children:({impressionTrackerRef:e})=>(0,h.jsx)(r.az,{ref:e,children:(0,h.jsxs)(p.A,{backgroundColor:K,coverImage:O,disableTabIndex:i,height:m,id:I,isHovered:g,onClick:_,onMouseEnter:f,onMouseLeave:y,searchBoxRenderStopwatch:x,url:M,width:P,children:[C&&26!==B&&(0,h.jsx)(r.az,{left:!0,padding:2,position:"absolute",top:!0,children:(0,h.jsx)(o.eu,{name:C.full_name,outline:!0,size:"xs",src:C.image_small_url})}),$&&(0,h.jsx)(r.az,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:80,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,h.jsx)(r.In,{accessibilityLabel:k._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:$,size:12})}),(0,h.jsx)(r.az,{alignItems:26===B?"end":"center","data-test-id":"discover-bubble",display:"flex",height:m,justifyContent:"center",padding:3,position:"absolute",top:!0,width:P||"100%",children:(0,h.jsxs)(r.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[m>200?(0,h.jsx)(r._Y,{align:"center",color:"light",size:"600",children:L}):(0,h.jsx)(r.KJ,{align:"center",color:"light",weight:"bold",children:L}),C&&26===B&&(0,h.jsxs)(r.az,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,h.jsx)(r.az,{marginEnd:2,children:(0,h.jsx)(o.eu,{name:C.full_name,outline:!0,size:"xs",src:C.image_small_url})}),(0,h.jsx)(r.KJ,{color:"light",size:"100",children:C.full_name})]})]})})]})})})}},819589(e,t,i){i.d(t,{A:()=>d,a:()=>s});var n=i(335831),a=i(859471),r=i(836737),o=i(483851),l=i(562615);let s={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function d({backgroundColor:e,children:t,coverImage:i,disableTabIndex:d,height:c,id:u,isHovered:p,onClick:h,onMouseDown:m,onMouseEnter:g,onMouseLeave:_,searchBoxRenderStopwatch:f,url:y,width:b}){(0,a.useEffect)(()=>{(0,n.A)("BubbleWrapper","/app/www/discover/Bubbles/BubbleWrapper.tsx")},[]);let[x,v]=(0,a.useState)(!1),A=()=>{g?g():v(!0)},w=()=>{_?_():v(!1)},S=p||x,P=S?s.hoverOverlay:s.bubbleOverlay;return(0,l.jsx)(r.$A,{href:y,onBlur:w,onFocus:A,onMouseDown:m,onMouseEnter:A,onMouseLeave:w,onTap:()=>{h?.(u)},rounding:400,tabIndex:d?-1:void 0,children:(0,l.jsx)(r.n1,{height:c,rounding:400,width:b||"100%",children:i?.url?(0,l.jsxs)(r._V,{alt:"",color:e,fit:"cover",naturalHeight:i.height??1,naturalWidth:i.width??1,onLoad:()=>{f?.stop();let e=(0,o.A)();e.isActive()&&e.stop()},role:"presentation",src:i.url,children:[(0,l.jsx)(r.az,{dangerouslySetInlineStyle:{__style:P},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:S}):t]}):(0,l.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},50001(e,t,i){i.d(t,{n:()=>p,u:()=>u});var n=i(859471),a=i(979638),r=i(767216),o=i(672375),l=i(491149),s=i(881329),d=i(562615);let{Provider:c,get:u}=(0,r.A)("SearchParams"),p=({children:e,value:t})=>{let i=function(){let e=(0,l.qJ)(),{search:t,pathname:i}=(0,a.zy)(),{scope:n}=(0,a.g)(),r=!n&&i.includes("/_tools/shop");return(0,s.A)({isDesktop:e,scope:r?o.cO.SHOP_TOOL:n??o.cO.PINS,search:t})}(),r=(0,n.useMemo)(()=>({...i,...t}),[i,t]);return(0,d.jsx)(c,{value:r,children:e})}},428972(e,t,i){i.d(t,{P4:()=>n,bP:()=>a,eS:()=>r,zB:()=>o});let n={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},a={CLOSEUP:"closeup"},r={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},o={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},532668(e,t,i){i.d(t,{Bw:()=>o,Em:()=>f,GX:()=>c,Mm:()=>d,NR:()=>g,R2:()=>m,b9:()=>l,kH:()=>_,rQ:()=>p,rS:()=>h,uj:()=>u,zh:()=>s});var n=i(653052),a=i(767482),r=i(218781);let o=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),l=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),s=e=>{let t=(0,r.A)(e.search).board_url;if(t){let e=(0,a.A)(t),i=(0,n.A)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${i}`:`${e}?${i}`}return e.pathname},d=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),c=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},u=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),p=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),h=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},m=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),g=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),_=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),f=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},157130(e,t,i){i.d(t,{A:()=>d});var n=i(335831),a=i(859471),r=i(396901),o=i(532668),l=i(318904),s=i(562615);function d({children:e,callbackFunction:t,modalHeader:i,nextLocation:d}){(0,a.useEffect)(()=>{(0,n.A)("WithLimitedLogin","/app/www/login/duplo/LimitedLogin/WithLimitedLogin.tsx")},[]);let c=(0,r.A)(),{viewer:u,loginForMore:p,limitedLoginModalSubheader:h,limitedLoginModalNextLocation:m}=(0,l.x)(),g="LIMITED_LOGIN"===u.type;return(0,s.jsx)("div",{onClickCapture:e=>{g&&(t&&t(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),p?.setVisible(!0),h?.setText(i||(0,o.Bw)(c)),d&&m?.setRoute(d))},children:e})}},366421(e,t,i){i.d(t,{A:()=>l});var n=i(859471),a=i(106386),r=i(906494),o=i(83325);function l(){let e=(0,a.wA)(),{showToast:t,showOneToast:i}=(0,r.CG)(),l=(0,a.Pj)(),s=(0,n.useCallback)((i,n)=>{n||e((0,o.TO)()),t(i)},[e,t]);return{showToast:t,showOneToast:i,showRepinConfirmation:(t,i)=>{i||e((0,o.ml)()),setTimeout(()=>{l.getState().session.isShowingRepinConfettiAnimation?setTimeout(()=>{s(t,i)},2e3):s(t,i)},2500)}}}},881329(e,t,i){i.d(t,{A:()=>r});var n=i(672375),a=i(218781);function r({isDesktop:e,scope:t,search:i}){let{auto_correction_disabled:r="",b_id:o,brands:l,category:s,colors:d,commerce_only:c="",cover_pin_sig:u,deb_d:p,domains:h,filters:m,guided_search_query:g,inline_suggestion:_,interest_id:f,journey_depth:y,on_sale:b,price_max:x,price_min:v,q:A,query_pin_sigs:w,query_image_pins:S,quiz:P,request_params:k,rs:I,selected_one_bar_modules:T,source_id:j,source_module_id:z,tab:R,top_pin_ids:E,user:F}=(0,a.A)(i),B="true"===c.toLowerCase()&&"shop_tool"!==t?n.cO.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===r.toLowerCase(),brands:l,bubbleId:o,category:s,colors:d,commerceOnly:"true"===c.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:m,debD:p,domains:h,guidedSearchQuery:g,inlineSuggestion:_,interestId:f,journeyDepth:y?parseInt(y,10):void 0,onSale:b,personalizationPinSig:w,placementId:(0,n.my)(B,e),priceMax:x,priceMin:v,query:A,queryImagePins:S,quiz:P,requestParams:k,rs:I,scope:B,selectedOneBarModules:T,sourceId:j,sourceModuleId:z,tab:R||"",topPinIds:E,user:F,viewParameter:(0,n._n)(B),viewType:B===n.cO.SHOP_TOOL?1:2}}},755100(e,t,i){i.d(t,{S5:()=>tx,Ay:()=>tv});var n,a,r,o,l,s,d,c,u,p,h,m=i(335831),g=i(859471),_=i(106386),f=i(825193),y=i(979638),b=i(679902),x=i(836737),v=i(233944),A=i(339589),w=i(389598),S=i(306869),P=i(47998),k=i(900565),I=i(585689),T=i(396901),j=i(528989),z=i(167284),R=i(799055),E=i(491149),F=i(575820),B=i(459271),C=i(246093);let O=(void 0!==n||(n=i(339353)).hash&&"a8967078f1de7ce3a263a224d0d0e710"!==n.hash&&console.error("The definition of 'useFetchBoardTitleSuggestionsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),L=e=>{let{v3GetPinQuery:t}=(0,f.useLazyLoadQuery)(O,{pinId:e});if(t?.error?.message)throw t?.error;return t?.data?.boardTitleSuggestions?.map(({title:e})=>e).filter(Boolean)||[]};var K=i(746743),M=i(388364),$=i(906494),N=i(165581),D=i(366421),H=i(235291),Y=i(289571),W=i(475258),G=i(840151),U=i(562615);let V=(void 0!==a||(a=i(180653)).hash&&"b3ec14d29962e56f80dd52e7e6d7a6d9"!==a.hash&&console.error("The definition of 'RepinAddSection_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function q({createSectionAndRepin:e,errorMessage:t,i18n:i,pin:n,setErrorMessage:a,useRoundedCorners:r}){let[o,l]=(0,g.useState)("");return(0,U.jsx)(N.A,{backButtonIcon:"chevron-left",errorMessage:t,name:o,onNameChange:e=>{a(""),l(e.target.value)},onNextButtonTouch:()=>{e(o,i)},selectedPinIds:[n.entityId],useRoundedCorners:r})}function Q(e){(0,g.useEffect)(()=>{(0,m.A)("RepinAddSection","/app/www/save/duplo/RepinAddSection.tsx")},[]);let{boardId:t,isEditingPin:i,onSuccess:n,pinKey:a,pinBoardId:r,pinSectionId:o,trackingParams:l,useRoundedCorners:s}=e,d=(0,k.A)(V,a),c=(0,_.wA)(),u=(0,y.Zp)(),p=(0,T.A)(),{showToast:h}=(0,$.CG)(),f=(0,v.A)(),b=(0,G.Y)(),{checkExperiment:x}=(0,j.A)(),A=(0,K.Ts)(),[w,S]=(0,g.useState)(""),{showRepinConfirmation:P}=(0,D.A)(),I=e=>u(e);return(0,U.jsx)(q,{createSectionAndRepin:e=>{let a=e=>S(e.message_detail||e.message);c((0,H.A)(t,[],e,f)).then(e=>{h(({hideToast:e})=>(0,U.jsx)(M.A,{onHide:e,text:p._('Section added!', ' - ', ' -- ')}));let s=e.resource_response.data;c((0,W.c)({checkExperiment:x,i18n:p,logContextEvent:f,pinId:d.entityId,boardId:t,onSuccess:i?void 0:()=>{A("Save",{pin_id:d.entityId}),n()},showRepinConfirmation:P,section:s,trackingParams:{clientTrackingParams:l,pinnedToBoardId:d.pinnedToBoard?d.pinnedToBoard.entityId:""},historyPush:I,savePinId:b?.save??(()=>{})})).then(()=>{d&&r&&c((0,Y.t)({pinId:d.entityId,boardId:r,boardSectionId:o,clientTrackingParams:l})).then(()=>d.pinnedToBoard?u(d.pinnedToBoard.url??"",{replace:!0}):void 0)}).catch(a)}).catch(a)},errorMessage:w,i18n:p,pin:d,setErrorMessage:S,useRoundedCorners:s})}function J(){let e=(0,y.zy)(),{boardId:t,id:i}=(0,y.g)(),{search:n}=e,a=new URLSearchParams(n),r=!!a.get("isEditingPin"),o=a.get("pinBoardId")??"";return{boardId:t,pinId:i,isEditingPin:r,pinBoardId:o,pinSectionId:a.get("pinSectionId")??"",originalPinId:a.get("originalPinId")??"",isFromToast:!!a.get("isFromToast")}}let Z=(void 0!==r||(r=i(709657)).hash&&"2d5f10a7f4e54a8cf9118f134bcd7386"!==r.hash&&console.error("The definition of 'MobileRepinCreateScreen_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function X({pinKey:e,trackingParams:t,useRoundedCorners:i}){(0,g.useEffect)(()=>{(0,m.A)("MobileRepinCreateScreen","/app/www/save/MobileRepinCreateScreen.tsx")},[]);let n=(0,k.A)(Z,e),a=(0,y.Zp)(),{boardId:r,isEditingPin:o,pinBoardId:l,pinSectionId:s}=J();return r?(0,U.jsx)(Q,{boardId:r,isEditingPin:o,onSuccess:()=>{a(-3)},pinBoardId:l,pinKey:n,pinSectionId:s,trackingParams:t,useRoundedCorners:i}):null}var ee=i(410899),et=i(503378),ei=i(97816),en=i(128353),ea=i(237285),er=i(239e3),eo=i(369424);function el(e,t){return!!(e&&e.placement_id&&e.experience_id===t)}var es=i(532668),ed=i(157130),ec=i(761660);let eu="cubic-bezier(0.66, 0.025, 0.33, 0.975)",ep=(0,ec.B4)((e,t,i,n,a)=>{let r=e,o=t,l=0,s=0,d="",c=Math.floor(t/3);if("shrinkToPin"===i&&(l="24px",s=1,r=Math.floor(3*c/2),o=c),"pinToGrid"===i&&n&&a){let e=n.getBoundingClientRect(),t=a.getBoundingClientRect(),i=t.x+t.width/2-(e.x+e.width/2),u=t.y+t.height/2-(e.y+e.height/2);d=`translate(${i}px, ${u}px)`,l="24px 0px 0px 24px",s=1,r=c,o=c}return{borderRadius:l,height:r,opacity:s,overflow:"hidden",width:o,WebkitTransformOrigin:"center center",transformOrigin:"center center",WebkitTransform:d,transform:d,WebkitTransition:`all .42s ${eu}`,transition:`all .42s ${eu}`}}),eh=(0,ec.B4)(e=>({opacity:+!!e,WebkitTransition:`opacity .42s ${eu}`,transition:`opacity .42s ${eu}`})),em=(0,ec.B4)(e=>({opacity:+!e,WebkitTransition:`all .25s ${eu}`,transition:`all .25s ${eu}`,zIndex:3}));function eg({completeExperience:e,pinDominantColor:t,pinImageHeight:i,pinImageWidth:n,pinImageUrl:a}){let r,o,l,s;(0,g.useEffect)(()=>{(0,m.A)("BoardCreateEdu","/app/www/nux/BoardCreateEdu.tsx")},[]);let d=(0,T.A)(),[c,u]=(0,g.useState)("visible"),[p,h]=(0,g.useState)("none"),_=window.innerWidth,f=Math.floor(_/3),y=Math.floor(_/6);(0,g.useEffect)(()=>{a&&"none"===p&&(r=setTimeout(()=>{h("shrinkToPin")},85)),a&&"shrinkToPin"===p&&(o=setTimeout(()=>{h("pinToGrid")},2e3)),"pinToGrid"===p&&"visible"===c&&(l=setTimeout(()=>{u("hidden")},2e3)),"hidden"===c&&(s=setTimeout(()=>{u("none"),e()},300))}),(0,g.useEffect)(()=>()=>{clearTimeout(r),clearTimeout(o),clearTimeout(l),clearTimeout(s)},[]);let b=(0,g.useRef)(null),v=(0,g.useRef)(null);return(0,U.jsxs)(x.az,{alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:em("hidden"===c)},direction:"column",display:"none"===c?"none":"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,children:[(0,U.jsxs)(x.az,{alignItems:"center",display:"flex",height:_/2,justifyContent:"center",marginBottom:8,position:"relative",width:"100%",children:[(0,U.jsx)(x.az,{dangerouslySetInlineStyle:{__style:eh("pinToGrid"===p)},position:"absolute",children:(0,U.jsx)(x.n1,{height:f,rounding:600,width:f+y+1,children:(0,U.jsxs)(x.so,{alignItems:"stretch",justifyContent:"between",children:[(0,U.jsx)(x.az,{ref:v,color:"transparent",height:f,width:f}),(0,U.jsxs)(x.so,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,U.jsx)(x.az,{color:"secondary",height:y,width:y}),(0,U.jsx)(x.az,{color:"secondary",height:y,width:y})]})]})})}),(0,U.jsx)(x.az,{ref:b,dangerouslySetInlineStyle:{__style:ep(i/n*_,_,p,b.current,v.current)},position:"absolute",children:(0,U.jsx)(x._V,{alt:d._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:t,fit:"cover",naturalHeight:i,naturalWidth:n,src:a})})]}),(0,U.jsx)(x.az,{marginBottom:8,marginTop:8,paddingX:12,children:(0,U.jsx)(x._Y,{align:"center",size:"600",children:d._('Keep your ideas organized by creating a board', 'boardPicker.edu.heading', 'board create education shown before user create their first board')})})]})}var e_=i(613738),ef=i(540443);function ey(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let eb=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],ex=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),ev=e=>Math.PI/180*e;class eA extends g.PureComponent{constructor(...e){super(...e),ey(this,"animationTimer",null),ey(this,"canvasRemovalTimer",null),ey(this,"childrenContainerRef",(0,g.createRef)()),ey(this,"containerRef",(0,g.createRef)()),ey(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;let e=window.innerWidth,{height:t,top:i}=this.containerRef.current.getBoundingClientRect(),n=document.createElement("canvas");return n.style.position="absolute",n.style.left="0px",n.style.top=`${i-(e-t)/2}px`,n.style.pointerEvents="none",n.style.width=`${e}px`,n.style.height=`${e}px`,n.width=e,n.height=e,n}),ey(this,"explode",()=>{let e=this.buildCanvas();if(!e)return;let t=this.containerRef.current,i=this.childrenContainerRef.current,n=e.getContext("2d");t?.insertBefore(e,i);let a=Array.from(Array(120)).map(()=>({x:e.width/2,y:e.height/2,radius:Math.round(ex(10,30)),color:eb[Math.floor(Math.random()*eb.length)],degree:Number(ex(0,360).toFixed(1)),speed:Math.round(ex(0,25)),friction:.9,opacity:Number(ex(0,.5).toFixed(1)),yVel:0,gravity:.04})),r=(e,t,i,n)=>{window.requestAnimationFrame(()=>r(e,t,i,n)),t.clearRect(0,0,i,n),e.forEach(e=>{e.x+=e.speed*Math.cos(ev(e.degree)),e.y+=e.speed*Math.sin(ev(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};n&&r(a,n,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t?.removeChild(e)},(this.props.delay||0)+1e3)})}componentDidUpdate(e){let{delay:t,startAnimation:i}=this.props,{startAnimation:n}=e;i&&n!==i&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return(0,U.jsx)(x.az,{ref:this.containerRef,children:(0,U.jsx)(x.az,{ref:this.childrenContainerRef,children:this.props.children})})}}function ew(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}ey(eA,"defaultProps",{delay:0});let eS=(e,t,i)=>{let n=[],a=t.current?.getBoundingClientRect(),r=i.current?.getBoundingClientRect();if(a&&r){let e={x:r.left-a.left,y:r.top-a.top},t={x:r.width/a.width,y:r.height/a.height};n.push(`translate(${e.x}px, ${e.y}px)`),n.push(`scale(${t.x}, ${t.y})`)}return{WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?n.join(" "):"none",transform:e?n.join(" "):"none",WebkitTransition:"all .5s ease-in-out",transition:"all .5s ease-in-out",borderRadius:e?"8px 0px 0px 0px":"8px",overflow:"hidden",marginBottom:24}};class eP extends g.PureComponent{constructor(...e){super(...e),ew(this,"state",{startAnimation:!1,animationStyles:null}),ew(this,"dismissTimer",null),ew(this,"pinRef",(0,g.createRef)()),ew(this,"pinDestinationRef",(0,g.createRef)()),ew(this,"handleAnimationAndCompletion",()=>{let{onComplete:e,savePin:t,selectedBoardName:i}=this.props;if(!i)return;let n=this.startAnimation();Promise.all([n,t(i)]).then(t=>{let[,n]=t;e(n,i)}).catch(e=>{n.then(()=>{e?.onError?.()})})}),ew(this,"startAnimation",()=>new Promise(e=>{let t=eS(!0,this.pinRef,this.pinDestinationRef);this.setState({startAnimation:!0,animationStyles:t},()=>{this.dismissTimer=setTimeout(()=>{e()},2600)})}))}componentWillUnmount(){this.dismissTimer&&clearTimeout(this.dismissTimer)}componentDidUpdate(){let{selectedBoardName:e}=this.props,{startAnimation:t}=this.state;e&&!t&&this.handleAnimationAndCompletion()}render(){let{pinDominantColor:e,pinImageUrl:t,selectedBoardName:i}=this.props,{startAnimation:n,animationStyles:a}=this.state;return(0,U.jsxs)(g.Fragment,{children:[(0,U.jsx)(x.ib,{top:64,zIndex:new x.rk(3),children:(0,U.jsx)(x.az,{alignItems:"center",color:n?"transparent":"default",display:"flex",justifyContent:"center",children:(0,U.jsx)(x.az,{ref:this.pinRef,dangerouslySetInlineStyle:{__style:n&&a?a:eS(!1,this.pinRef,this.pinDestinationRef)},height:84,position:"relative",width:84,children:(0,U.jsx)(x._V,{alt:this.props.i18n._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:e,fit:"cover",naturalHeight:84,naturalWidth:84,src:t})})})}),(0,U.jsx)(x.az,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",opacity:+!!n,WebkitTransition:"opacity .4s ease-in-out",transition:"opacity .4s ease-in-out",zIndex:2}},left:!0,position:"fixed",right:!0,top:!0,children:(0,U.jsxs)(x.so,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,U.jsx)(eA,{delay:1200,startAnimation:n,children:(0,U.jsx)(x.n1,{rounding:200,width:148,children:(0,U.jsx)(x.so,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:Array.from([,,,,]).map((e,t)=>{let i=t<=1,n=t%2,a=0===t?this.pinDestinationRef:null;return(0,U.jsx)(x.az,{ref:a,color:0===t?"transparent":"secondary",height:72,marginBottom:+!!i,marginEnd:+!n,width:72},t)})})})}),(0,U.jsx)(x.az,{dangerouslySetInlineStyle:{__style:{opacity:+!!n,WebkitTransform:n?"translateY(0)":"translateY(20%)",transform:n?"translateY(0)":"translateY(20%)",WebkitTransition:"all .25s ease-in-out .5s",transition:"all .25s ease-in-out .5s",textAlign:"center",marginTop:"50px"}},paddingX:4,children:(0,U.jsx)(x._Y,{children:(0,ee.vQ)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First repin confirmation message', 'First repin confirmation message'),{selectedBoardName:i})})})]})})]})}}let ek=function(e){let t=(0,T.A)();return(0,U.jsx)(eP,{...e,i18n:t})};var eI=i(139876),eT=i(321791),ej=i(644094),ez=i(83345),eR=i(230122),eE=i(180836),eF=i(321571),eB=i(14143),eC=i(748530),eO=i(13324),eL=i(119795),eK=i(32712),eM=i(894621),e$=i(383218),eN=i(604050),eD=i(157210),eH=i(310206),eY=i(895850),eW=i(451341),eG=i(411733),eU=i(831064),eV=i(537523);function eq({pinId:e,handleSelected:t,surfaceOriginViewParameter:i}){(0,g.useEffect)(()=>{(0,m.A)("ProfilePickerRow","/app/www/save/duplo/ProfilePickerRow.tsx")},[]);let n=(0,T.A)(),a=(0,v.A)();return(0,g.useEffect)(()=>{a({view_parameter:3990,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:i,pin_id:e}})},[]),(0,U.jsx)(x.Rp,{onTap:()=>{t(!1,null)},rounding:200,children:(0,U.jsxs)(x.az,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4,rounding:200,children:[(0,U.jsx)(x.az,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",rounding:200,width:48,children:(0,U.jsx)(x.In,{accessibilityLabel:n._('Profile', 'save.ProfilePickerRow.IconAccessibilityLabel', 'Accessibility label for icon on option to save Pin to profile'),color:"default",icon:"clock-history",size:22})}),(0,U.jsx)(x.az,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,overflow:"hidden",width:"100%",children:(0,U.jsx)(x.KJ,{lineClamp:1,size:"400",weight:"bold",children:n._('Profile', 'save.ProfilePickerRow', 'Option to save Pin to profile')})})]})})}var eQ=i(224989);function eJ(){let e=(0,eQ.useRelayEnvironment)();return(0,g.useCallback)(t=>{e&&(0,eQ.commitLocalUpdate)(e,e=>{e.get(t)?.invalidateRecord()})},[e])}let eZ=e=>e.map(e=>({board_title_id:String(e.id),board_title_kind:JSON.parse(e.recommendation_reason??"{}").reason,board_title:String(e.name),board_title_score:JSON.parse(e.recommendation_reason??"{}").score})),eX=e=>"profile"===e?3990:"topChoices"===e?3988:3989;var e0=i(225853);let e1=(void 0!==o||(o=i(503777)).hash&&"76b22cc5d658befe1dc27454d3aee77f"!==o.hash&&console.error("The definition of 'BoardPickerList_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),e3=(e,t,i)=>({field_set_key:"detailed",id:e,preserve_component_state:t,...i?{orbac_subject_id:i}:Object.freeze({})});function e2({boards:e,boardsShortlist:t=[],closeModal:i,dismissFlyout:n,navigate:a,isEditingPin:r,isFromToast:o,logContextEvent:l,onSelect:s,originalPinId:d,pinKey:c,pinBoardId:u,saveToProfileEnabled:p,surfaceOriginViewParameter:h,trackingParams:f}){(0,g.useEffect)(()=>{(0,m.A)("BoardPickerList","/app/www/save/duplo/BoardPickerList.tsx")},[]);let b=(0,T.A)(),v=(0,y.zy)(),A=(0,k.A)(e1,c),w=eJ(),S=(0,_.wA)(),I=(0,eN.A)(),z=(0,G.Y)(),R=(0,K.Ts)(),E=v.state&&v.state.isOneTapSave,{checkExperiment:F}=(0,j.A)(),{showRepinConfirmation:B,showToast:O}=(0,D.A)(),L=e=>a(e),$=t.map(e=>e.id);p&&$.unshift("PROFILE_PINS");let N=(0,eK.A)(),H=(0,P.A)(),Y=(0,C.Eo)(),V=(0,eM.H7)(H,N),{logStat:q}=(0,e$.xI)(),Q=p&&F("mweb_curation_board_picker_reorder_profile_option").anyEnabled;(0,eL.A)(()=>{$&&l({event_type:13,clientTrackingParams:f.clientTrackingParams,component:7,element:1001,view_type:3,aux_data:{pin_id:A.entityId,suggested_boards:$}})}),(0,g.useEffect)(()=>{l({view_parameter:3988,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:h,pin_id:A.entityId,board_picker_suggested_boards:JSON.stringify(eZ(t))}})},[t]);let J=e=>S((0,eD.zY)(e)),Z=I({fn:async(e,c,p)=>{if(e&&c)s(c,p);else try{if(!r){let e=!c?.id,i=await (({boardId:e,i18n:i,isQuickSave:r,isBoardlessSave:o})=>{n(),q("main_pin_repin");let s=JSON.stringify(eZ(t));return S((0,W.c)({checkExperiment:F,i18n:i,isQuickSave:r,logContextEvent:l,pinId:A.entityId,boardId:e,onSuccess:()=>{R("Save",{pin_id:A.entityId,is_promoted:A.isPromoted}),a(-1),(o||r)&&(0,e0.A)({dispatch:S,viewerUser:Y})},originalPinId:d,showRepinConfirmation:B,trackingParams:f,historyPush:L,suggestedBoardIds:$,boardPickerSuggestedBoards:s,savePinId:z?.save??(()=>{})}))})({boardId:c?.id,i18n:b,isQuickSave:e,isBoardlessSave:"profile"===p});if(i){let e=i?.id;if(E){let t;t={boardId:c?.id,localPinId:e,pinId:A.entityId,nodeId:A.__id},S((0,eW.U)({...t}))}else A?.entityId&&S((0,eG.J4)({id:A.entityId,nodeId:A.__id,boardId:c.id,title:c.name??"",url:c.url??"",localPinId:e}))}}if(r){let e=c?.id,t={board_id:e,id:A.entityId,...V?{orbac_subject_id:V}:Object.freeze({})},n=u!==e;eF.A.create("PinResource",t).callUpdate().then(i=>{let r;if(n&&e&&u){let t,i,n;t={selectedPinIds:[A.entityId],source:{boardId:u,sectionId:void 0},target:{boardId:e,sectionId:void 0}},S((0,eY.B)(t)),J({boardId:e,sectionId:void 0,increment:1}),J({boardId:u,sectionId:void 0,increment:-1}),H.isAuth&&H.id&&!u&&(i=H.id,n=A.entityId,S((0,eH.J6)({feedId:i,feedType:eU.A.BOARDLESS_PINS,itemIds:[n],itemType:"pin"})))}S((0,eC.O)("PinResource",{options:t})),r=A.entityId,S((0,eO.Q5)("PinResource",e3(r,!0,V))),w(A.__id),S((0,eO.O8)("PinResource",e3(i.resource_response.data.id,!1,V),i)),a(-1)}),o&&i()}}catch(e){O(({hideToast:t})=>(0,U.jsx)(M.A,{duration:5e3,onHide:t,text:(0,eB.A)(e,"message")||b._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin')}))}},modalHeader:(0,es.Mm)(b)}),X=(0,U.jsx)(eq,{handleSelected:(e,t)=>Z(e,{...t,gridIndex:0},"profile"),pinId:A.entityId,surfaceOriginViewParameter:h});return(0,U.jsxs)(x.so,{direction:"column",gap:4,children:[(0,U.jsxs)(x.az,{children:[p&&!Q&&X,t.length>0&&(0,U.jsx)(x.az,{marginBottom:4,marginTop:2,children:(0,U.jsx)(x._Y,{accessibilityLevel:3,size:"300",children:(0,U.jsx)(x.KJ,{inline:!0,children:b._('Top choices', 'boardPicker.header.topChoices', 'Header of a list of user\'s boards')})})}),t.map((e,t)=>(0,U.jsx)(eV.A,{boardId:e.id,onBoardSelected:i=>Z(i,{...e,gridIndex:t},"topChoices"),showSingleBoardRep:!0},e.id))]}),(0,U.jsxs)(x.az,{"data-test-id":"all-boards-list",children:[(0,U.jsx)(x.az,{marginBottom:4,children:(0,U.jsx)(x._Y,{accessibilityLevel:3,size:"300",children:(0,U.jsx)(x.KJ,{inline:!0,children:b._('All boards', 'RepinFlow.BoardPickerList.AllBoards', 'Board picker list all boards title')})})}),e.map((e,t)=>(0,U.jsx)(eV.A,{boardId:e.id,onBoardSelected:i=>Z(i,{...e,gridIndex:t},"allBoards"),showSingleBoardRep:!0},e.id)),Q&&X]})]})}var e5=i(477327);let e8=()=>((0,g.useEffect)(()=>{(0,m.A)("EmptyBoardRep","/app/www/save/duplo/EmptyBoardRep.tsx")},[]),(0,U.jsx)(x.az,{color:"secondary",display:"inlineBlock",height:60,minWidth:60,overflow:"hidden",position:"relative",rounding:400,children:(0,U.jsxs)(g.Fragment,{children:[(0,U.jsx)(x.az,{color:"default",dangerouslySetInlineStyle:{__style:{left:"50%"}},height:"100%",position:"absolute",width:1}),(0,U.jsx)(x.az,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%"}},height:1,position:"absolute",right:!0,width:"50%"})]})}));var e6=i(689796),e4=i(913931);let e7=(void 0!==l||(l=i(825283)).hash&&"69ffcdea57a7778d2ebbcd41c276c0d0"!==l.hash&&console.error("The definition of 'BoardTitleSuggestionList_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function e9({isEditingPin:e,isFirstBoard:t,isFromToast:i,navigate:n,onFirstBoardCreate:a,originalPinId:r,pinBoardId:o,pinKey:l,pinSectionId:s,surfaceOriginViewParameter:d,titleSuggestions:c,clientTrackingParams:u}){(0,g.useEffect)(()=>{(0,m.A)("BoardTitleSuggestionList","/app/www/save/duplo/BoardTitleSuggestionList.tsx")},[]);let p=(0,v.A)(),h=(0,e4.A)(),f=(0,T.A)(),y=(0,eN.A)(),{showRepinConfirmation:b}=(0,D.A)(),A=(0,_.wA)(),w=(0,k.A)(e7,l),S=w.entityId,P=(0,e6.m)({hasRichMetadata:!!w.richMetadata,hasRichMetadataProducts:!!w.richMetadata?.products,hasRichMetadataArticle:!!w.richMetadata?.article,hasRichMetadataRecipe:!!w.richMetadata?.recipe}),I=(0,G.Y)(),z=(0,eT.oW)(),R=(0,eo.A)(u,w.trackingParams),E=e=>n(e),{checkExperiment:F}=(0,j.A)();(0,g.useEffect)(()=>{p({view_parameter:3992,component:13282,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:d,pin_id:S,board_title_suggestions:c}})},[]);let B=async()=>{await void A((0,Y.t)({pinId:S,boardId:o||"",boardSectionId:s,clientTrackingParams:R}));let e=w.pinnedToBoard?.url;w.section?n(`${e??""}${w.section.slug??""}/`??"",{replace:!0}):n(e??"",{replace:!0})},C=y({fn:(o,l,s)=>{p({view_parameter:3992,component:13282,element:23,event_type:101,view_type:91,aux_data:{board_picker_surface_origin:d,pin_id:S,board_title_suggestions:c}}),(({allSuggestions:e,handleCreateBoard:t,index:i,isFBC:n,logContextEvent:a,pinViewParameter:r})=>{t(),a({aux_data:{board_title_list:JSON.stringify(e),is_fbc:n.toString(),selected_board_title_index:i},component:7,element:23,event_type:102,view_parameter:r,view_type:3})})({allSuggestions:s,handleCreateBoard:()=>{t?a(l):h({boardCreateOptions:{name:l,initial_pin_client_tracking_params:[u],privacy:"public"}}).then(t=>{let{url:a="",id:o}=t||{};A((0,W.c)({checkExperiment:F,i18n:f,logContextEvent:p,originalPinId:r,pinId:S,boardId:o,trackingParams:{clientTrackingParams:R,pinnedToBoardId:o},historyPush:E,savePinId:I?.save??(()=>{})})).then(()=>{e?i?n(-1):B():n(-1);let{href:t,text:r}=(0,ez.A)(a,l,f),{duration:s,text:d,thumbnail:c}=(0,e_.A)({boardId:o,getReduxBoard:z,pinId:S,viewType:3});b(({hideToast:e})=>(0,U.jsx)(ef.A,{duration:s,href:t,onHide:e,text:d||r,thumbnail:c}))})})},index:o,isFBC:t,logContextEvent:p,pinViewParameter:P})},modalHeader:(0,es.Em)(f)});return c?c.map((e,t,i)=>(0,U.jsx)(x.az,{children:(0,U.jsx)(e5.A,{dataTestId:"board-suggestion-row-button",onTouch:()=>C(t,e,i),pressState:"none",rounding:200,children:(0,U.jsxs)(x.az,{alignItems:"center",display:"flex",paddingY:2,rounding:200,children:[(0,U.jsx)(e8,{}),(0,U.jsx)(x.az,{column:10,marginStart:3,children:(0,U.jsx)(x._Y,{size:"400",children:e})})]})},t)},t)):null}let te=(void 0!==s||(s=i(275631)).hash&&"475036dcb56a51d3552313200b8c9d45"!==s.hash&&console.error("The definition of 'RepinBoardPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function tt({allBoards:e,saveToProfileEnabled:t,boardsShortlist:i,closeModal:n,dismissFlyout:a,navigate:r,isEditingPin:o,isFromToast:l,onSelect:s,originalPinId:d,pin:c,pinBoardId:u,pinSectionId:p,trackingParams:h}){let m=(0,v.A)();return(0,U.jsx)(g.Fragment,{children:(0,U.jsx)(e2,{boards:e,boardsShortlist:i,closeModal:n,dismissFlyout:a,isEditingPin:o,isFromToast:l,logContextEvent:m,navigate:r,onSelect:s,originalPinId:d,pinBoardId:u,pinKey:c,pinSectionId:p,saveToProfileEnabled:t,trackingParams:h})})}function ti({allBoards:e,boardsShortlist:t,closeModal:i,saveToProfileEnabled:n,dismissFlyout:a,navigate:r,isEditingPin:o,isFirstRepinExperience:l,isFromToast:s,onFirstBoardCreate:d,originalPinId:c,onSelect:u,pin:p,pinBoardId:h,pinSectionId:m,trackingParams:g,titleSuggestions:_}){let f=(0,T.A)(),y=l||0===e.length&&!n,b=(0,v.A)(),A=()=>(0,U.jsx)(e9,{clientTrackingParams:g.clientTrackingParams,isEditingPin:o,isFirstBoard:y,isFromToast:s,navigate:r,onFirstBoardCreate:d,originalPinId:c,pinBoardId:h,pinKey:p,pinSectionId:m,titleSuggestions:_});return y?(0,U.jsxs)(x.az,{paddingX:1,children:[(0,U.jsx)(x.az,{marginBottom:4,children:(0,U.jsx)(x.KJ,{children:f._('Tap to create your first board', 'CTA for board title suggestions', 'Explain to user that tapping on suggestion creates a board')})}),A()]}):(0,U.jsxs)(x.az,{marginBottom:4,children:[(0,U.jsx)(e2,{boards:e,boardsShortlist:t,closeModal:i,dismissFlyout:a,isEditingPin:o,isFromToast:s,logContextEvent:b,navigate:r,onSelect:u,originalPinId:c,pinBoardId:h,pinKey:p,pinSectionId:m,saveToProfileEnabled:n,trackingParams:g}),_?(0,U.jsxs)(x.az,{children:[(0,U.jsx)(x.az,{paddingY:1,children:(0,U.jsx)(eE.A,{children:(0,U.jsx)(x.cG,{})})}),(0,U.jsx)(x.az,{paddingY:4,children:(0,U.jsx)(x.KJ,{children:f._('Or tap to create a new board', 'boardPicker.suggestedBoardName.title', 'Title for repin page suggested board name section')})}),A()]}):(0,U.jsx)(x.az,{paddingY:6,children:(0,U.jsx)(x.y$,{accessibilityLabel:f._('Loading repin page content', ' - ', ' -- '),show:!0})})]})}function tn({allBoards:e,boardsShortlist:t,closeModal:i,saveToProfileEnabled:n,dismissFlyout:a,navigate:r,isEditingPin:o,isFetchingBoards:l,isFirstRepinExperience:s,isFromToast:d,onFirstBoardCreate:c,onSelect:u,originalPinId:p,pinKey:h,pinBoardId:_,pinDescription:f,pinSectionId:y,surfaceOriginViewParameter:b,saveSessionId:A}){(0,g.useEffect)(()=>{(0,m.A)("RepinBoardPicker","/app/www/save/duplo/RepinBoardPicker.tsx")},[]);let w=(0,k.A)(te,h),S=L(w.entityId),P=(0,T.A)(),I=(0,v.A)(),j={clientTrackingParams:(0,eR.A)({pinKey:w}),pinnedToBoardId:w.pinnedToBoard?w.pinnedToBoard.entityId:""},z=(e,i)=>{I({event_type:101,component:13282,clientTrackingParams:j.clientTrackingParams,object_id_str:e.id,view_type:91,view_parameter:eX(i),aux_data:{board_id:e.id,board_component:eX(i),board_picker_surface_origin:b,board_picker_suggested_boards:JSON.stringify(eZ(t)),board_title_suggestions:S,board_index:e.gridIndex,is_profile_save:"profile"===i,pin_id:w.entityId,save_session_id:A}}),u(e,i)};return 0===e.length&&l?(0,U.jsx)(x.az,{paddingY:2,children:(0,U.jsx)(x.y$,{accessibilityLabel:P._('Loading repin page content', ' - ', ' -- '),show:!0})}):e.length>=10?(0,U.jsx)(tt,{allBoards:e,boardsShortlist:t,closeModal:i,dismissFlyout:a,isEditingPin:o,isFromToast:d,navigate:r,onSelect:z,originalPinId:p,pin:w,pinBoardId:_,pinDescription:f,pinSectionId:y,saveToProfileEnabled:n,trackingParams:j}):(0,U.jsx)(ti,{allBoards:e,boardsShortlist:t,closeModal:i,dismissFlyout:a,isEditingPin:o,isFirstRepinExperience:s,isFromToast:d,navigate:r,onFirstBoardCreate:c,onSelect:z,originalPinId:p,pin:w,pinBoardId:_,pinDescription:f,pinSectionId:y,saveToProfileEnabled:n,titleSuggestions:S,trackingParams:j})}var ta=i(70994),tr=i(518622);let to=(void 0!==d||(d=i(851997)).hash&&"1612c2df94f42990b3d4f6ccede72a70"!==d.hash&&console.error("The definition of 'RepinCreateBoardButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d);function tl({isEditingPin:e,isFirstBoardCreateActive:t,pinKey:i,pinBoardId:n,pinDescription:a,pinSectionId:r,trackingParams:o,onTouch:l,useIconWithBackground:s}){(0,g.useEffect)(()=>{(0,m.A)("RepinCreateBoardButton","/app/www/save/duplo/RepinCreateBoardButton.tsx")},[]);let d=(0,T.A)(),c=(0,k.A)(to,i),u=(0,tr.A)({href:{pathname:`/board/create/${c.entityId}/`,state:{isFirstBoardCreateActive:t,pinnedToBoardId:c.pinnedToBoard?c.pinnedToBoard.entityId:"",pinDescription:a,trackingParams:o,isEditingPin:e,pinBoardId:n,pinSectionId:r}}});return(0,U.jsx)(ta.A,{hasTopShadow:s,height:s?void 0:70,children:(0,U.jsx)(x.Rp,{onTap:({event:e})=>{l?.(),u({event:e})},children:(0,U.jsxs)(x.az,{alignItems:"center","data-test-id":"repinCreateBoardButton",display:"flex",paddingX:+!!s,paddingY:+!s,children:[s?(0,U.jsx)(x.az,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:200,children:(0,U.jsx)(x.In,{accessibilityLabel:d._('Create board button', ' - ', ' -- '),color:"default",icon:"plus",size:20})}):(0,U.jsx)(x.In,{accessibilityLabel:d._('Create board button', ' - ', ' -- '),color:"error",icon:"circle-plus",size:38}),(0,U.jsx)(x.az,{marginStart:s?2:3,children:(0,U.jsx)(x.KJ,{weight:"bold",children:d._('Create board', 'Create new board to Pin to', 'Create new board to Pin to')})})]})})})}var ts=i(729990),td=i(154648);let tc=(void 0!==c||(c=i(380568)).hash&&"f0b2fbadfba92480a2077999a000a308"!==c.hash&&console.error("The definition of 'RepinSectionPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c),tu=(e,t,i)=>({field_set_key:"detailed",id:e,preserve_component_state:t,...i?{orbac_subject_id:i}:Object.freeze({})});function tp({boardId:e,navigate:t,location:{search:i},showSectionRep:n,pinKey:a,onSuccess:r,trackingParams:o,dismissFlyout:l,boardViewParameterType:s,surfaceOriginViewParameter:d}){(0,g.useEffect)(()=>{(0,m.A)("RepinSectionPicker","/app/www/save/duplo/RepinSectionPicker.tsx")},[]);let c=(0,_.wA)(),u=(0,T.A)(),p=(0,k.A)(tc,a),h=eJ(),f=new URLSearchParams(i),y=f.get("isEditingPin"),b=f.get("pinBoardId")??"",x=f.get("pinSectionId")??"",A=(0,eo.A)(o,p.trackingParams),w=(0,v.A)(),S=(0,G.Y)(),{checkExperiment:I}=(0,j.A)(),z=e=>t(e),R=(0,eK.A)(),E=(0,P.A)(),F=(0,eM.H7)(E,R),B=(0,K.Ts)(),{showRepinConfirmation:C}=(0,D.A)();(0,g.useEffect)(()=>{w({event_type:13,clientTrackingParams:A,component:13282,object_id_str:e,view_type:275,aux_data:{board_id:e,board_picker_surface_origin:d,board_title_suggestions:[],board_index:0,is_profile_save:!1,pin_id:p.entityId,board_component:s}})});let O=e=>c((0,eD.zY)(e)),L=async(i,n)=>{if(n&&w({event_type:101,clientTrackingParams:A,component:13282,element:36,object_id_str:i,view_type:91,view_parameter:3133,aux_data:{board_id:i,board_picker_surface_origin:d,board_title_suggestions:[],board_index:0,is_profile_save:!1,pin_id:p.entityId,section_id:n?.id??"",board_component:s}}),y||await void(l(),c((0,W.c)({checkExperiment:I,i18n:u,logContextEvent:w,pinId:p.entityId,boardId:e,onSuccess:y?void 0:()=>{B("Save",{pin_id:p.entityId,is_promoted:p.isPromoted}),r()},showRepinConfirmation:C,section:n,trackingParams:{clientTrackingParams:A,pinnedToBoardId:p.pinnedToBoard?p.pinnedToBoard.entityId:""},historyPush:z,savePinId:S?.save??(()=>{})})).then(()=>{n&&c((0,ts.A)(n.id??""))})),y){let e=n?.id,a={board_id:i,board_section_id:e,id:p.entityId,...F?{orbac_subject_id:F}:Object.freeze({})},r=b!==i,o=x!==e;eF.A.create("PinResource",a).callUpdate().then(n=>{let l;if(r||o){let t,n,a;t={selectedPinIds:[p.entityId],source:{boardId:b,sectionId:x||null},target:{boardId:i,sectionId:e}},c((0,eY.B)(t)),O({boardId:i,sectionId:e,increment:1}),O({boardId:b,sectionId:x,increment:-1}),E.isAuth&&E.id&&!b&&(n=E.id,a=p.entityId,c((0,eH.J6)({feedId:n,feedType:eU.A.BOARDLESS_PINS,itemIds:[a],itemType:"pin"})))}c((0,eC.O)("PinResource",{options:a})),l=p.entityId,c((0,eO.Q5)("PinResource",tu(l,!0,F))),h(p.__id),c((0,eO.O8)("PinResource",tu(n.resource_response.data.id,!1,F),n)),t(-2)})}};return(0,U.jsx)(td.A,{boardId:e,repin:L,showSectionRep:n})}let th=(void 0!==u||(u=i(234327)).hash&&"fbb4180ea3919f31ccfbb4bf4b2d25ea"!==u.hash&&console.error("The definition of 'MobileRepinPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u);function tm({children:e}){let t=(0,_.d4)(({session:e})=>72+28*!!(0,et.a0)(e.userAgentPlatform));return(0,U.jsx)(x.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:t}},children:e})}function tg({allBoards:e,saveToProfileEnabled:t,boardsShortlist:i,isFetchingBoards:n,pinKey:a,pinDescription:r,titleSuggestions:o,trackingParams:l,warningAnchor:s,saveSessionId:d}){(0,g.useEffect)(()=>{(0,m.A)("MobileRepinPicker","/app/www/save/MobileRepinPicker.tsx")},[]);let c=(0,k.A)(th,a),u=(0,T.A)(),p=(0,y.zy)(),h=(0,y.Zp)(),{boardId:f,pinId:b,isEditingPin:w,pinBoardId:S,pinSectionId:P,originalPinId:I,isFromToast:z}=J(),R=(0,v.A)(),E=(0,_.wA)(),F=(0,_.d4)(({experiences:e})=>e),B=F[1000112],C=F[1000153],{showToast:O,showRepinConfirmation:L}=(0,D.A)(),$=(0,eT.oW)(),N=(0,K.Ts)(),H=(0,A.Hy)(),Y=(0,G.Y)(),{checkExperiment:V}=(0,j.A)(),[q,Q]=(0,g.useState)(!1),[Z,X]=(0,g.useState)("allBoards"),[et,ec]=(0,g.useState)(void 0),[eu,ep]=(0,g.useState)(!1),eh=(0,e4.A)(),em=()=>!!el(C,501032)||!n&&0===e.length&&!t,ey=()=>{R({view_type:21,view_parameter:87,component:7,element:f?34:75,event_type:102})},eb=r.trim(),{pinnedToBoard:ex}=c,ev=ex?(0,ee.vQ)(u._('Psst! You already saved this Pin to {{ board_name }}', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:ex.name}).join(" "):null,{dominantColor:eA}=c,ew=c.images_236x,eS=ew?ew.url:"",eP=u._('Save Pin to', 'RepinPage.Section.Header.Title', 'title for section selection in repin flow'),eR=new x.rk(2),eE=u._('Create board', 'Title for first board create', 'Title for first board create. NOTE: we are testing using "collections" in place of "boards" for new users'),eF=u._('Save to board', 'boardPicker.header', 'Title for repin page'),eB=f?eP:0!==e.length||n||t?eF:eE;return(0,U.jsxs)(en.default,{hasFixedHeader:!0,children:[(0,U.jsx)(er.A,{text:eB}),(0,U.jsx)(ei.default,{useRoundedCorners:!0,zIndex:eR,children:(0,U.jsxs)(x.so,{alignItems:"center",height:40,justifyContent:"start",children:[(0,U.jsx)(x.az,{column:2,children:(0,U.jsx)(ej.default,{alignIconLeft:!0,color:"default",icon:f?"chevron-left":"close",onTouch:ey,size:"sm"})}),(0,U.jsx)(x.az,{column:8,children:(0,U.jsx)(x.az,{"data-test-id":"repin-page-title",children:(0,U.jsx)(x._Y,{accessibilityLevel:2,align:"center",size:"300",children:(0,U.jsx)(x.KJ,{inline:!0,weight:"bold",children:eB})})})}),(0,U.jsx)(x.az,{column:2})]})}),c.images_236x&&(em()?(0,U.jsx)(ek,{onComplete:(e,t)=>{let{boardId:i,boardUrl:n}=e,{href:a,text:r}=(0,ez.A)(n,t,u),{duration:o,text:l,thumbnail:s}=(0,e_.A)({boardId:i,getReduxBoard:$,isFBC:!0,pinId:b,viewType:21});h(-1),L(({hideToast:e})=>(0,U.jsx)(ef.A,{duration:o,href:a,onHide:e,text:l||r,thumbnail:s})),B&&B.placement_id&&503459===B.experience_id&&E(H(B.placement_id,B.experience_id)),C&&el(C,501032)&&E(H(C.placement_id,C.experience_id)),N("Save",{pin_id:c.entityId,is_promoted:c.isPromoted})},pinDominantColor:eA??"",pinImageUrl:eS??"",savePin:e=>{let t=(0,eo.A)((p.state||{}).trackingParams),i=(0,eo.A)(l,c.trackingParams);return eh({boardCreateOptions:{name:e,initial_pin_client_tracking_params:[t],privacy:"public"},deprecatedSchemaForNormalization:eI.no}).then(e=>{let{url:t="",id:n}=e||{};return b&&E((0,W.c)({checkExperiment:V,i18n:u,logContextEvent:R,originalPinId:I,pinId:b,boardId:n,trackingParams:{clientTrackingParams:i,pinnedToBoardId:n},historyPush:e=>h(e),savePinId:Y?.save??(()=>{})})),{boardId:n,boardUrl:t}},e=>{throw{onError:()=>{h(-1),O(({hideToast:t})=>(0,U.jsx)(M.A,{duration:5e3,onHide:t,text:e.message||u._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board')}))}}})},selectedBoardName:et}):null),(0,U.jsx)(tm,{children:f?(0,U.jsx)(tp,{boardId:f,boardViewParameterType:eX(Z),dismissFlyout:()=>ep(!0),location:p,navigate:h,onSuccess:()=>{h(-2)},pinKey:c,showSectionRep:!0,surfaceOriginViewParameter:153,trackingParams:l}):(0,U.jsx)(tn,{allBoards:e,boardsShortlist:i,closeModal:ey,dismissFlyout:()=>ep(!0),isEditingPin:w,isFetchingBoards:n,isFirstRepinExperience:em(),isFromToast:z,navigate:h,onFirstBoardCreate:e=>{em()||h(`/board/create/${c.entityId}/${e}/`,{state:{trackingParams:l,from:p.state?.from}}),ec(e)},onSelect:(e,t)=>{X(t),w?h(`/pin/${c.entityId}/repin/${e.id}/?isEditingPin=true&pinBoardId=${S}&pinSectionId=${P}`,{state:{trackingParams:l,from:p.state?.from}}):h(`/pin/${c.entityId}/repin/${e.id}/`,{state:{trackingParams:l,from:p.state?.from}})},originalPinId:I,pinBoardId:S,pinDescription:eb,pinKey:c,pinSectionId:P,saveSessionId:d,saveToProfileEnabled:t,surfaceOriginViewParameter:153})}),f?(0,U.jsx)(ea.LY,{onAddNewSection:()=>{f&&(R({view_type:91,view_parameter:3132,component:13282,element:10306,event_type:101,aux_data:{board_picker_surface_origin:153,board_title_suggestions:o||[],pin_id:c.entityId,board_component:3132,board_picker_suggested_boards:JSON.stringify(eZ(i))}}),w?h(`/pin/${c.entityId}/repin/${f}/add/?isEditingPin=true&pinBoardId=${S}&pinSectionId=${P}`,{state:{from:p.state?.from}}):h(`/pin/${c.entityId}/repin/${f}/add/`,{state:{from:p.state?.from}}))},useIconWithBackground:!0}):(0,U.jsx)(ed.A,{modalHeader:(0,es.Em)(u),nextLocation:`/board/create/${c.entityId}/`,children:(0,U.jsx)(tl,{isEditingPin:w,isFirstBoardCreateActive:em(),onTouch:()=>{R({view_type:91,view_parameter:87,component:13282,element:249,event_type:101,aux_data:{board_picker_surface_origin:153,board_title_suggestions:o||[],pin_id:c.entityId,board_component:87,board_picker_suggested_boards:JSON.stringify(eZ(i))}})},pinBoardId:S,pinDescription:eb,pinKey:c,pinSectionId:P,trackingParams:l,useIconWithBackground:!0})}),ew&&el(C,501021)&&(0,U.jsx)(eg,{completeExperience:()=>{C&&el(C,501021)&&E(H(C.placement_id,C.experience_id))},pinDominantColor:eA??"",pinImageHeight:ew.height??1,pinImageUrl:eS??"",pinImageWidth:ew.width??1}),s&&!eu&&c.pinnedToBoard&&!q&&ev&&(0,U.jsx)(x.AM,{anchor:s,idealDirection:"down",onDismiss:()=>Q(!0),shouldFocus:!1,children:(0,U.jsx)(x.az,{padding:3,children:(0,U.jsx)(x.KJ,{weight:"bold",children:(0,U.jsx)("span",{children:ev})})})})]})}function t_(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let tf=(void 0!==p||(p=i(546952)).hash&&"334d0ce72c30565b62e52dd00bf86623"!==p.hash&&console.error("The definition of 'RepinPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),p),ty=(void 0!==h||(h=i(592856)).hash&&"76093586a269ca0330e25a57bd33f665"!==h.hash&&console.error("The definition of 'RepinPageQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),h);class tb extends g.PureComponent{constructor(...e){super(...e),t_(this,"state",{pinDescription:(this.props.pin.description||"").trim(),trackingParams:(this.props.location.state||{}).trackingParams||"",warningAnchor:void 0,windowInnerHeight:"u">typeof window?window.innerHeight:0,saveSessionId:(0,b.A)()}),t_(this,"onResize",()=>{this.setState({windowInnerHeight:window.innerHeight})})}componentDidMount(){let{logContextEvent:e,repinExperience:t,triggerExperimentsForPlacement:i,viewExperience:n,pin:a}=this.props,{saveSessionId:r}=this.state;e({view_type:21,event_type:13,aux_data:{board_picker_surface_origin:153,pin_id:a.entityId,save_session_id:r}}),i(1000153),t&&n(1000153,t.experience_id),window.addEventListener("resize",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}render(){let e=(0,U.jsx)(tg,{allBoards:this.props.allBoards,boardsShortlist:this.props.boardsShortlist,isFetchingBoards:this.props.isFetchingBoards,pinDescription:this.state.pinDescription,pinKey:this.props.pin,saveSessionId:this.state.saveSessionId,saveToProfileEnabled:this.props.saveToProfileEnabled,titleSuggestions:this.props.titleSuggestions,trackingParams:this.state.trackingParams,warningAnchor:this.state.warningAnchor}),t=(0,U.jsx)(X,{pinKey:this.props.pin,trackingParams:this.state.trackingParams,useRoundedCorners:!0});return(0,U.jsx)(w.Ay,{accessibilityModalLabel:this.props.i18n._('Repin page', 'RepinPage.MobileModal.AccessibilityLabel', 'Accessibility label on repin page'),closeOnOutsideClick:!1,isOpen:!0,onDismiss:()=>{},type:"repinPage",children:(0,U.jsx)(x.az,{height:this.state.windowInnerHeight-S.GV,paddingX:2,paddingY:0,children:(0,U.jsxs)(y.BV,{children:[(0,U.jsx)(y.qh,{element:t,path:"/:boardId/add"}),(0,U.jsx)(y.qh,{element:e,path:"/:boardId"}),(0,U.jsx)(y.qh,{element:e,path:"/x"}),(0,U.jsx)(y.qh,{element:e,path:"/"})]})})})}}function tx(){return(0,g.useEffect)(()=>{(0,m.A)("RepinPage","/app/www/pages/duplo/RepinPage.tsx")},[]),(0,U.jsx)(tv,{})}function tv({shouldFetchPinFromGraphQL:e}){let t,i,n;(0,g.useEffect)(()=>{(0,m.A)("RepinPage","/app/www/pages/duplo/RepinPage.tsx")},[]);let a=(0,y.Zp)(),r=(0,y.zy)(),{id:o=""}=(0,y.g)(),l=(0,T.A)(),s=(0,v.A)(),d=(0,A.Hy)(),c=(0,A.Dz)(),u=(0,C.Eo)(),{isAuth:p}=(0,P.A)(),h=(0,E.qJ)(),f=(t={field_set_key:"repin"},i=(0,I.A)({strategy:e?"GraphQL":"Legacy",query:ty,variables:{pinId:o},useGetLegacyData:({pinId:e})=>{let{data:i}=(0,R.A)({name:"PinResource",options:{...t,id:e}});return i}}),n=i?.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery?.data:null,(0,k.A)(tf,n)),{isFetching:b,allBoards:x,boardsShortlist:w}=(e=>{let t=(0,_.d4)(e=>e.session.userId),{isFetching:i,data:n}=(0,R.A)({name:"BoardPickerBoardsResource",options:{pin_id:e,field_set_key:"profile_grid_item",shortlist_length:2,shortlist_suggestions:3,user_id:t}}),a=n?.all_boards||[];return{isFetching:i,allBoards:(0,_.d4)(e=>(0,B.A)({...e,boards:a})||[]),boardsShortlist:n?.boards_shortlist||[]}})(o),{checkExperiment:S}=(0,j.A)(),O=L(o);(0,z.A)({name:"UserResource",options:{user_id:u?.id,field_set_key:"quicksave"}});let K=(0,_.wA)(),M=(0,_.d4)(({experiences:e})=>e),{showEnabledSaveBehavior:$}=(0,F.Ay)(u?.id||"");return!p||h?(0,U.jsx)(y.C5,{replace:!0,to:`/pin/${o}/`}):f?(0,U.jsx)(tb,{allBoards:x,boardsShortlist:w,checkExperiment:S,completeExperience:(e,t)=>K(d(e,t)),i18n:l,isFetchingBoards:b,location:r,logContextEvent:s,navigate:a,pin:f,pinId:o,repinExperience:M[1000153],saveToProfileEnabled:$,titleSuggestions:O,triggerExperimentsForPlacement:e=>K((0,A.vI)(e)),viewExperience:(e,t)=>K(c(e,t))}):null}},54173(e,t,i){function n(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function a(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}i.d(t,{I4:()=>n,X2:()=>r,vb:()=>a});let r=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t})},235291(e,t,i){i.d(t,{A:()=>c});var n=i(581296),a=i(321571),r=i(13324),o=i(54173),l=i(310206),s=i(455132),d=i(831064);let c=(e,t,i,c)=>u=>{let p={board_id:e,initial_pins:t,name:i},h="BoardSectionResource";return a.A.create(h,p).callCreate().then(i=>{let a=i.resource_response.data,m=(0,n.S8)(a,s.A[h]);return c({event_type:7100,object_id_str:a.id}),u((0,r.md)(h,p,i,m)),u((0,o.I4)(e,a)),u((0,l.ZT)({feedId:e,feedType:d.A.BOARD_SECTIONS,itemIds:[a.id],itemType:"boardsection"})),t.length&&u({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:a.id},pinIds:t}}),i})}},702618(e,t,i){i.d(t,{A:()=>a});var n=i(321571);let a=e=>t=>{t({type:"PINS_MOVE_ALL",payload:e});let{source:i,target:a,excludePinIds:r}=e,o={board_id:i.boardId,new_board_id:a.boardId,pin_ids:r,old_section_id:i.sectionId,new_section_id:a.sectionId};return n.A.create("BulkEditSelectAllResource",o).callUpdate()}},729990(e,t,i){i.d(t,{A:()=>r});var n=i(321571),a=i(54173);let r=e=>t=>n.A.create("BoardSectionResource",{section_id:e}).callGet().then(i=>{let n=i.resource_response.data||{id:"",title:""};return t((0,a.X2)(e,n)),i})},451341(e,t,i){i.d(t,{U:()=>n,o:()=>a});let n=e=>({type:"ONE_TAP_SAVE",payload:e}),a=e=>({type:"ONE_TAP_UNSAVE",payload:e})},459271(e,t,i){i.d(t,{A:()=>n});let n=(0,i(810972).createSelector)(({users:e,boards:t,session:i})=>{let n=e[i.userId]||null;return Object.keys(t).reduce((e,i)=>{let a=t[i];return!a.archived_by_me_at&&(a.owner?.id===n?.id||a.collaborating_users&&a.collaborating_users.map(({id:e})=>e).includes(n?.id))&&a.cover_images?e.concat([a]):e},[])},e=>e.sort((e,t)=>e?.name?.localeCompare(t?.name??"")??0))},644094(e,t,i){i.r(t),i.d(t,{default:()=>b});var n=i(335831),a=i(859471),r=i(106386),o=i(979638),l=i(836737),s=i(221718),d=i(233944),c=i(775816),u=i(625277),p=i(396901),h=i(107639),m=i(424120),g=i(798923),_=i(488265),f=i(491149),y=i(562615);function b({alignIconLeft:e,bgColor:t,color:i,disableRedirect:b=!1,fallbackUrl:x,icon:v="chevron-left",onTouch:A,padding:w,placement:S,shouldUseFallbackUrl:P,size:k="lg",viewParameter:I,viewType:T,isVisualSearch:j,fallbackUrlOptions:z}){(0,a.useEffect)(()=>{(0,n.A)("BackButton","/app/www/routing/BackButton.tsx")},[]);let R=(0,p.A)(),E=(0,o.Zp)(),F=(0,o.zy)(),B=(0,f.qJ)(),C=(0,r.d4)(e=>e.session.isAuthenticated),O=(0,d.A)(),L=(0,_.A)(),{isDarkMode:K}=(0,u.D2)(),{viewType:M,viewParameter:$}=(0,c.WQ)(),[N,D]=T?[T,I]:[M,$],H=()=>{let e=(0,m.y1)().getItem(s.rt);F.key||"/ideas"!==x?(0,g.PM)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,g.PM)("pinner_conversion.back_button.no_history"),(0,g.PM)(`web_back_button_click.${String(S)}.is_auth_${String(C)}`),L({action:"click",item:"back-button"}),N&&O({view_type:N,view_parameter:D,element:34,event_type:102}),A&&A(),b||((!F.key||F.state&&"redirect"===F.state.referrer||P)&&x?E(x,z):F.pathname.includes("/password/reset/")&&F.search&&F.search.includes("?nativeShouldDismiss=true")?E("/login/?dismissWebview=true"):E(-1))},Y=K?u.fO:"white",W=(0,h.iK)(F)||j||"inverse"===i;return(0,y.jsx)(l.az,{"data-test-id":"back-button",children:e?(0,y.jsx)(l.az,{alignItems:"center",display:"flex",height:48,marginStart:"close"===v?-1:-2,width:48,children:(0,y.jsx)(l.K0,{accessibilityLabel:R._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:v,iconColor:!i&&(!t||["white","lightGray","transparent"].includes(t))?"subtle":i,onClick:H,padding:"auto"!==w?w:2,size:k})}):(0,y.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:B||W||t?"":Y,width:K&&!W?"fit-content":""}},rounding:"circle",children:(0,y.jsx)(l.K0,{accessibilityLabel:R._('Back', 'navigation button', 'navigation button'),bgColor:t||B?t:"transparent",icon:v,iconColor:!i&&(!t||["white","lightGray","transparent"].includes(t))?"subtle":i,onClick:H,padding:"auto"!==w?w:2,size:k})})})}},537523(e,t,i){i.d(t,{A:()=>p});var n=i(335831),a=i(859471),r=i(106386),o=i(836737),l=i(396901),s=i(410899),d=i(604050),c=i(982449),u=i(562615);function p({boardId:e,onBoardSelected:t,noArrowIcon:i,showSingleBoardRep:p}){(0,a.useEffect)(()=>{(0,n.A)("BoardPickerRow","/app/www/save/duplo/BoardPickerRow.tsx")},[]);let h=(0,l.A)(),m=(0,r.d4)(({boards:e})=>e)[e],g=m?.section_count,_=!!g&&g>0,f=(0,d.A)(),y=m?.name??"this board";return(0,u.jsx)(o.Rp,{accessibilityLabel:(0,s.$)(`${h._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')}`,{boardName:y}),onTap:f({fn:()=>t(_)}),rounding:200,tapStyle:"compress",children:(0,u.jsx)(c.A,{boardId:e,noArrowIcon:i,showSingleBoardRep:p})})}},982449(e,t,i){i.d(t,{A:()=>h});var n=i(335831),a=i(859471),r=i(106386),o=i(836737),l=i(923957),s=i(396901),d=i(410899),c=i(347552),u=i(269768),p=i(562615);function h({boardId:e,navigateToBoard:t,noArrowIcon:i,showCollaborators:h,showSingleBoardRep:m,shouldShowPinAndSectionCount:g}){(0,a.useEffect)(()=>{(0,n.A)("BoardRow","/app/www/save/duplo/BoardRow.tsx")},[]);let _=(0,s.A)(),f=(0,r.d4)(({boards:e})=>e)[e];if(!f)return null;let y=(f.collaborating_users||[]).map(e=>({name:e.username??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??""})),b=new o.rk(0),x=f.pin_count,v=f.section_count,A=(0,p.jsx)(a.Fragment,{children:(0,p.jsx)(o.az,{"data-test-id":v?"boardWithSection":"boardWithoutSection",children:(0,p.jsxs)(o.az,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4*!!m,rounding:200,children:[(0,p.jsx)(o.az,{paddingY:2*!m,children:m?(0,p.jsx)(o.az,{height:48,overflow:"hidden",width:48,children:(0,p.jsx)(o.n1,{height:"100%",rounding:200,width:"100%",children:(0,p.jsx)(o._V,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:f.image_cover_url||" "})})}):(0,p.jsx)(o.az,{height:60,overflow:"hidden",rounding:400,width:60,children:(0,p.jsx)(u.default,{boardKey:{type:"Legacy",data:f},fullSize:!0,hideSecretBoardIcon:!0,type:"thumbnail",viewType:void 0})})}),(0,p.jsxs)(o.so,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,p.jsxs)(o.az,{direction:"column",display:"flex",justifyContent:"center",marginStart:m?2:4,overflow:m?"hidden":"auto",width:"100%",children:[(0,p.jsx)(o.KJ,{lineClamp:m?1:void 0,size:"400",weight:"bold",children:f.name}),g&&(0,p.jsxs)(o.so,{children:[(0,p.jsx)(o.KJ,{inline:!0,children:!!x&&(0,d.vQ)(_.ngettext('{{ PinCount }} Pin', '{{ PinCount }} Pins', x ?? 0, 'BoardRow.pinCount', 'Number of Pins on board or section, pinCount: number of Pins'),{PinCount:x})}),!!x&&!!v&&(0,p.jsx)(c.A,{}),(0,p.jsx)(o.KJ,{inline:!0,children:!!v&&(0,d.vQ)(_.ngettext('{{ sectionCount }} section', '{{ sectionCount }} sections', v ?? 0, 'BoardRow.sectionCount', 'Number of sections on board, sectionCount: number of sections'),{sectionCount:v})})]})]}),(0,p.jsxs)(o.so,{alignItems:m?"center":"start",justifyContent:"start",children:["secret"===f.privacy&&(0,p.jsx)(o.az,{marginStart:m?3:1,children:(0,p.jsx)(o.In,{accessibilityLabel:_._('secret board icon', ' - ', ' -- '),color:m?"default":"subtle",icon:"lock"})}),f.is_collaborative&&(m||h)&&y.length>0?(0,p.jsx)(o.az,{zIndex:b,children:(0,p.jsx)(l.Z7,{collaborators:y,size:1===y.length?"sm":"xs"})}):f.is_collaborative&&(0,p.jsx)(o.az,{marginStart:1,children:(0,p.jsx)(o.In,{accessibilityLabel:_._('group board icon', ' - ', ' -- '),icon:"people"})}),!i&&!!f.section_count&&(0,p.jsx)(o.az,{"data-test-id":"boardSectionPicker",marginStart:3*!!m,children:(0,p.jsx)(o.In,{accessibilityLabel:_._('board section board picker icon', ' - ', ' -- '),color:m?"default":"subtle",icon:"chevron-right"})})]})]})]})})});return t&&f.url?(0,p.jsx)(o.$A,{href:f.url,rounding:200,tapStyle:"compress",children:A}):A}},154648(e,t,i){i.d(t,{A:()=>_});var n=i(335831),a=i(859471),r=i(106386),o=i(979638),l=i(836737),s=i(396901),d=i(799055),c=i(321791),u=i(537523),p=i(410899),h=i(477327),m=i(562615);function g({onSectionSelected:e,sectionId:t,showSectionRep:i}){(0,a.useEffect)(()=>{(0,n.A)("SectionPickerRow","/app/www/save/duplo/SectionPickerRow.tsx")},[]);let o=(0,r.d4)(({boardsections:e})=>e[t]),d=(0,s.A)(),c=o&&o.preview_pins?.[0]&&o.preview_pins[0].image_medium_url,u=o?.title??"";return(0,m.jsx)(h.A,{onTouch:e,pressState:"none",rounding:200,children:(0,m.jsxs)(l.az,{alignItems:"center",column:12,"data-test-id":"sectionPickerRow",display:"flex",marginBottom:4*!!i,rounding:200,children:[i&&(0,m.jsx)(l.az,{height:48,width:51,children:(0,m.jsx)(l.n1,{height:"100%",rounding:200,width:"100%",children:c&&(0,m.jsx)(l._V,{alt:(0,p.$)(d._('{{ boardSectionName }} thumbnail', 'SectionPickerRow.boardImage.accessibilityLabel.text', 'Additional text explaining board image thumbnail. boardSectionName:Title of the board section for a11y text'),{boardSectionName:u}),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:c})})}),!i&&(0,m.jsx)(l.az,{column:1,paddingY:2}),(0,m.jsx)(l.az,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:i?(0,m.jsx)(l.az,{marginStart:2,overflow:"hidden",width:"100%",children:(0,m.jsx)(l.KJ,{lineClamp:1,size:"400",weight:"bold",children:o?.title})}):(0,m.jsx)(l.az,{marginStart:2,children:(0,m.jsx)(l.KJ,{weight:"bold",children:o?.title})})})]})})}function _({boardId:e,originalBoardId:t,sectionId:i,repin:p,hideBoardPickerRow:h,showSectionRep:_}){(0,a.useEffect)(()=>{(0,n.A)("SectionPickerList","/app/www/save/duplo/SectionPickerList.tsx")},[]);let f=(0,s.A)(),{isFetching:y,boardSections:b,filteredBoardSections:x}=((e,t)=>{let{isFetching:i}=(0,d.A)({name:"BoardSectionsRepinResource",options:{board_id:e}}),n=(0,r.d4)(({feeds:t})=>(t[`board-sections:${e}`]||[]).reduce((e,t)=>{if("boardsection"===t.type){let i={type:"boardsection",id:t.id};e.push(i)}return e},[])),a=(0,r.d4)(i=>n.map(e=>e.id).reduce((n,a)=>{let r=i.boardsections[a??""];return a!==t&&r&&n.push({board:{id:e},id:r.id,title:r.title,type:"boardsection",slug:r.slug}),n},[]));return{isFetching:i,boardSections:n,filteredBoardSections:a}})(e,i),v=(0,o.Zp)(),A=(0,c.oW)()(t||"");return(0,m.jsxs)(l.az,{children:[b.length>0&&(0,m.jsxs)(l.az,{paddingY:3*!_,children:[_&&(0,m.jsx)(l.az,{paddingY:2,children:(0,m.jsx)(l.az,{marginBottom:2,children:(0,m.jsx)(l._Y,{accessibilityLevel:3,size:"300",children:(0,m.jsx)(l.KJ,{inline:!0,children:f._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})})}),!h&&(0,m.jsx)(u.A,{boardId:e,noArrowIcon:!0,onBoardSelected:()=>p(e,void 0,f),showSingleBoardRep:_},e),_&&(0,m.jsx)(l.az,{paddingY:4,children:(0,m.jsx)(l._Y,{accessibilityLevel:3,size:"300",children:(0,m.jsx)(l.KJ,{inline:!0,children:f._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})})}),x.map(i=>(0,m.jsx)(g,{onSectionSelected:()=>{p(e,i,f),t&&v(A?.url??"")},sectionId:i.id??"",showSectionRep:_},i.id))]}),(0,m.jsx)(l.y$,{accessibilityLabel:f._('Loading board section for repin flow', ' - ', ' -- '),show:y})]})}},225853(e,t,i){i.d(t,{A:()=>a});var n=i(13324);function a({dispatch:e,viewerUser:t}){let{id:i}=t||{};i&&e((0,n.Q5)("BoardlessPinsResource",{field_set_key:"mobile",userId:i}))}},297641(e,t,i){i.d(t,{A:()=>a});var n=i(979842);function a(e){return{defaultStyle:0,fontFamily:e.name??"",fontGroup:n.YV,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}},832001(e,t,i){i.d(t,{A:()=>y});var n,a=i(335831),r=i(859471),o=i(979638),l=i(376195),s=i(491149);i(825193);var d=i(218134),c=i(486557),u=i(900565),p=i(975227),h=i(562615);let m=(void 0!==n||(n=i(970333)).hash&&"60ba8f292ef82335c3d4cbce50f362d8"!==n.hash&&console.error("The definition of 'CloseupRepinPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function g({pinKey:e}){(0,r.useEffect)(()=>{(0,a.A)("CloseupRepinPage","/app/www/pages/authDesktop/CloseupRepinPage.tsx")},[]);let t=(0,u.A)(m,e);return t?(0,h.jsx)(p.A,{type:"authDesktop",children:t.isEligibleForPdp?(0,h.jsx)(c.A,{showRepin:!0}):(0,h.jsx)(d.Ay,{showRepin:!0})}):null}var _=i(755100),f=i(863153);let y=function(){(0,r.useEffect)(()=>{(0,a.A)("InternalRepinPage","/app/www/pages/InternalRepinPage.tsx")},[]);let{id:e}=(0,o.g)(),t=(0,s.Ay)(),{isAuthenticated:i}=(0,l._8)(),n=(0,f.HR)(),d=e?n(e):null;return i?"desktop"===t?(0,h.jsx)(g,{pinKey:null!=d?{type:"Legacy",data:d}:null}):(0,h.jsx)(_.Ay,{shouldFetchPinFromGraphQL:!0}):(0,h.jsx)(o.C5,{replace:!0,to:`/pin/${e??""}/`})}},785231(e,t,i){i.d(t,{xz:()=>m,b3:()=>u,Ay:()=>h});var n=i(669897),a=i(614327),r=i(905686),o=i(812956),l=i(854420),s=i(892804);function d(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c extends Error{constructor(...e){super(...e),d(this,"name","GraphQLFetchError"),d(this,"extraData",{})}}function u(e){let t=!0;async function i(i,n){let d=Date.now(),u=(0,r.q)(),p=document.cookie.match(RegExp("\\b"+a.mh.name+"=.+?($|;)","g")),h=e?e():{},m=function({handler:e,queryName:t,windowIsInFocus:i}){let{searchParams:n}=new URL(window.location.href),a=n.get("force_country"),r=n.get("force_country_from_ip"),s=n.get("force_region_from_ip"),d=n.get("skan_test"),c={};return a&&(c["X-Force-Country"]=a),r&&(c["X-Force-Country-From-IP"]=r),s&&(c["X-Force-Region-From-IP"]=s),d&&(c["X-Pinterest-SKAN-Testing"]=d),e&&(c["X-Pinterest-PWS-Handler"]=e),{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":(0,o.Qm)(),"X-Requested-With":"XMLHttpRequest","X-Pinterest-Source-Url":(0,l.A)(),"X-Pinterest-GraphQL-Name":t,"X-Pinterest-AppState":i?"active":"background",...c}}({handler:u,queryName:i.name,windowIsInFocus:t,...h});try{let e=await fetch("/_/graphql/",{credentials:"include",method:"POST",headers:m,body:JSON.stringify({queryHash:i.id,variables:n})});return(0,s.N9)("pws.graphql.fetchQueryClient.request",Date.now()-d,{sampleRate:1,tags:{handler:u??"unknown",queryName:i.name,status:e.status}}),await e.json()}catch(t){let e=new c(t.message);throw e.stack=t.stack,e.extraData={csrfCookies:p?.join(";")??"unknown",requestHeaders:m},(0,s.GV)("pws.graphql.fetchQueryClient.networkError",{sampleRate:1,tags:{handler:u,queryName:i.name}}),e}}return window.addEventListener("focus",()=>t=!0),window.addEventListener("blur",()=>t=!1),function(e,t){var n,a;let o,l,d,c;return n=e,a=t,d=JSON.stringify(function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let i=Object.keys(t).sort(),n={};for(let a=0;a<i.length;a+=1)n[i[a]]=e(t[i[a]]);return n}({queryID:n.id??n.cacheID,variables:a})),((c=window.__PWS_RELAY_SSR_REQUESTS__?.[d])?(o=(0,r.q)(),l=c.status,(0,s.GV)("pws.graphql.fetchQueryClient.fetchFromSSRCache.hit",{tags:{handler:o??"unknown",queryName:n.name,status:l}}),c.promise.finally(()=>{(0,s.N9)(`pws.graphql.fetchQueryClient.fetchFromSSRCache.${c.status}`,c.endTime-c.startTime,{tags:{handler:o??"unknown",initialStatus:l,queryName:n.name}}),"completed"===c.status&&c.startTime>c.endTime&&(0,s.GV)("pws.graphql.fetchQueryClient.fetchFromSSRCache.completedBeforePending",{tags:{handler:o??"unknown",queryName:n.name}})}),"completed"===c.status)?c.response:"rejected"===c.status?null:c.promise:null)??i(e,t)}}let p=null;function h(){let e=new n.Environment({network:n.Network.create(u()),store:new n.Store(new n.RecordSource)});return"u">typeof window&&(p=e),e}function m(){return p}},551192(e,t,i){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/pin/[id]/repin",function(){return i(832001).A}])}},function(e){e.O(0,["14811","17350","20233","21160","2172","32518","37726","40206","43001","43287","48719","54086","54446","61025","63060","65760","69987","71030","78180","80316","80816","89620","89748","91796","931","93675","97926","98884"],function(){return e(e.s=551192)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/repin-67d0ff3ba6a0f642.mjs.map